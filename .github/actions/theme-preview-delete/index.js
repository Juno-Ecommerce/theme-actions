var Mu=Object.create;var Un=Object.defineProperty;var Uu=Object.getOwnPropertyDescriptor;var xu=Object.getOwnPropertyNames;var $u=Object.getPrototypeOf,zu=Object.prototype.hasOwnProperty;var Ft=(r,t)=>()=>(r&&(t=r(r=0)),t);var k=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),ju=(r,t)=>{for(var o in t)Un(r,o,{get:t[o],enumerable:!0})},Nu=(r,t,o,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of xu(t))!zu.call(r,s)&&s!==o&&Un(r,s,{get:()=>t[s],enumerable:!(i=Uu(t,s))||i.enumerable});return r};var Pe=(r,t,o)=>(o=r!=null?Mu($u(r)):{},Nu(t||!r||!r.__esModule?Un(o,"default",{value:r,enumerable:!0}):o,r));var Cr=k(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.toCommandProperties=pt.toCommandValue=void 0;function Hu(r){return r==null?"":typeof r=="string"||r instanceof String?r:JSON.stringify(r)}pt.toCommandValue=Hu;function Vu(r){return Object.keys(r).length?{title:r.title,file:r.file,line:r.startLine,endLine:r.endLine,col:r.startColumn,endColumn:r.endColumn}:{}}pt.toCommandProperties=Vu});var Ui=k(ae=>{"use strict";var Yu=ae&&ae.__createBinding||(Object.create?function(r,t,o,i){i===void 0&&(i=o),Object.defineProperty(r,i,{enumerable:!0,get:function(){return t[o]}})}:function(r,t,o,i){i===void 0&&(i=o),r[i]=t[o]}),Gu=ae&&ae.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),Qu=ae&&ae.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var o in r)o!=="default"&&Object.hasOwnProperty.call(r,o)&&Yu(t,r,o);return Gu(t,r),t};Object.defineProperty(ae,"__esModule",{value:!0});ae.issue=ae.issueCommand=void 0;var Ju=Qu(require("os")),Fi=Cr();function Mi(r,t,o){let i=new xn(r,t,o);process.stdout.write(i.toString()+Ju.EOL)}ae.issueCommand=Mi;function Ku(r,t=""){Mi(r,{},t)}ae.issue=Ku;var Ii="::",xn=class{constructor(t,o,i){t||(t="missing.command"),this.command=t,this.properties=o,this.message=i}toString(){let t=Ii+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let o=!0;for(let i in this.properties)if(this.properties.hasOwnProperty(i)){let s=this.properties[i];s&&(o?o=!1:t+=",",t+=`${i}=${Xu(s)}`)}}return t+=`${Ii}${Zu(this.message)}`,t}};function Zu(r){return Fi.toCommandValue(r).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Xu(r){return Fi.toCommandValue(r).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});var zi=k(ye=>{"use strict";var el=ye&&ye.__createBinding||(Object.create?function(r,t,o,i){i===void 0&&(i=o),Object.defineProperty(r,i,{enumerable:!0,get:function(){return t[o]}})}:function(r,t,o,i){i===void 0&&(i=o),r[i]=t[o]}),tl=ye&&ye.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),$i=ye&&ye.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var o in r)o!=="default"&&Object.hasOwnProperty.call(r,o)&&el(t,r,o);return tl(t,r),t};Object.defineProperty(ye,"__esModule",{value:!0});ye.issueCommand=void 0;var xi=$i(require("fs")),rl=$i(require("os")),nl=Cr();function ol(r,t){let o=process.env[`GITHUB_${r}`];if(!o)throw new Error(`Unable to find environment variable for file command ${r}`);if(!xi.existsSync(o))throw new Error(`Missing file at path: ${o}`);xi.appendFileSync(o,`${nl.toCommandValue(t)}${rl.EOL}`,{encoding:"utf8"})}ye.issueCommand=ol});var zn=k($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.default=sl;var il=al(require("crypto"));function al(r){return r&&r.__esModule?r:{default:r}}var qr=new Uint8Array(256),Or=qr.length;function sl(){return Or>qr.length-16&&(il.default.randomFillSync(qr),Or=0),qr.slice(Or,Or+=16)}});var ji=k(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.default=void 0;var ul=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Br.default=ul});var Mt=k(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.default=void 0;var ll=fl(ji());function fl(r){return r&&r.__esModule?r:{default:r}}function cl(r){return typeof r=="string"&&ll.default.test(r)}var dl=cl;Dr.default=dl});var Ut=k(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.default=void 0;var hl=pl(Mt());function pl(r){return r&&r.__esModule?r:{default:r}}var N=[];for(let r=0;r<256;++r)N.push((r+256).toString(16).substr(1));function ml(r,t=0){let o=(N[r[t+0]]+N[r[t+1]]+N[r[t+2]]+N[r[t+3]]+"-"+N[r[t+4]]+N[r[t+5]]+"-"+N[r[t+6]]+N[r[t+7]]+"-"+N[r[t+8]]+N[r[t+9]]+"-"+N[r[t+10]]+N[r[t+11]]+N[r[t+12]]+N[r[t+13]]+N[r[t+14]]+N[r[t+15]]).toLowerCase();if(!(0,hl.default)(o))throw TypeError("Stringified UUID is invalid");return o}var bl=ml;kr.default=bl});var Vi=k(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.default=void 0;var yl=Hi(zn()),_l=Hi(Ut());function Hi(r){return r&&r.__esModule?r:{default:r}}var Ni,jn,Nn=0,Hn=0;function gl(r,t,o){let i=t&&o||0,s=t||new Array(16);r=r||{};let l=r.node||Ni,f=r.clockseq!==void 0?r.clockseq:jn;if(l==null||f==null){let _=r.random||(r.rng||yl.default)();l==null&&(l=Ni=[_[0]|1,_[1],_[2],_[3],_[4],_[5]]),f==null&&(f=jn=(_[6]<<8|_[7])&16383)}let m=r.msecs!==void 0?r.msecs:Date.now(),h=r.nsecs!==void 0?r.nsecs:Hn+1,d=m-Nn+(h-Hn)/1e4;if(d<0&&r.clockseq===void 0&&(f=f+1&16383),(d<0||m>Nn)&&r.nsecs===void 0&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Nn=m,Hn=h,jn=f,m+=122192928e5;let y=((m&268435455)*1e4+h)%4294967296;s[i++]=y>>>24&255,s[i++]=y>>>16&255,s[i++]=y>>>8&255,s[i++]=y&255;let g=m/4294967296*1e4&268435455;s[i++]=g>>>8&255,s[i++]=g&255,s[i++]=g>>>24&15|16,s[i++]=g>>>16&255,s[i++]=f>>>8|128,s[i++]=f&255;for(let _=0;_<6;++_)s[i+_]=l[_];return t||(0,_l.default)(s)}var Sl=gl;Lr.default=Sl});var Vn=k(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.default=void 0;var wl=Rl(Mt());function Rl(r){return r&&r.__esModule?r:{default:r}}function vl(r){if(!(0,wl.default)(r))throw TypeError("Invalid UUID");let t,o=new Uint8Array(16);return o[0]=(t=parseInt(r.slice(0,8),16))>>>24,o[1]=t>>>16&255,o[2]=t>>>8&255,o[3]=t&255,o[4]=(t=parseInt(r.slice(9,13),16))>>>8,o[5]=t&255,o[6]=(t=parseInt(r.slice(14,18),16))>>>8,o[7]=t&255,o[8]=(t=parseInt(r.slice(19,23),16))>>>8,o[9]=t&255,o[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,o[11]=t/4294967296&255,o[12]=t>>>24&255,o[13]=t>>>16&255,o[14]=t>>>8&255,o[15]=t&255,o}var Tl=vl;Wr.default=Tl});var Yn=k(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.default=Cl;Ke.URL=Ke.DNS=void 0;var El=Yi(Ut()),Pl=Yi(Vn());function Yi(r){return r&&r.__esModule?r:{default:r}}function Al(r){r=unescape(encodeURIComponent(r));let t=[];for(let o=0;o<r.length;++o)t.push(r.charCodeAt(o));return t}var Gi="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Ke.DNS=Gi;var Qi="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Ke.URL=Qi;function Cl(r,t,o){function i(s,l,f,m){if(typeof s=="string"&&(s=Al(s)),typeof l=="string"&&(l=(0,Pl.default)(l)),l.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+s.length);if(h.set(l),h.set(s,l.length),h=o(h),h[6]=h[6]&15|t,h[8]=h[8]&63|128,f){m=m||0;for(let d=0;d<16;++d)f[m+d]=h[d];return f}return(0,El.default)(h)}try{i.name=r}catch{}return i.DNS=Gi,i.URL=Qi,i}});var Ji=k(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.default=void 0;var Ol=ql(require("crypto"));function ql(r){return r&&r.__esModule?r:{default:r}}function Bl(r){return Array.isArray(r)?r=Buffer.from(r):typeof r=="string"&&(r=Buffer.from(r,"utf8")),Ol.default.createHash("md5").update(r).digest()}var Dl=Bl;Ir.default=Dl});var Zi=k(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.default=void 0;var kl=Ki(Yn()),Ll=Ki(Ji());function Ki(r){return r&&r.__esModule?r:{default:r}}var Wl=(0,kl.default)("v3",48,Ll.default),Il=Wl;Fr.default=Il});var ea=k(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.default=void 0;var Fl=Xi(zn()),Ml=Xi(Ut());function Xi(r){return r&&r.__esModule?r:{default:r}}function Ul(r,t,o){r=r||{};let i=r.random||(r.rng||Fl.default)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){o=o||0;for(let s=0;s<16;++s)t[o+s]=i[s];return t}return(0,Ml.default)(i)}var xl=Ul;Mr.default=xl});var ta=k(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.default=void 0;var $l=zl(require("crypto"));function zl(r){return r&&r.__esModule?r:{default:r}}function jl(r){return Array.isArray(r)?r=Buffer.from(r):typeof r=="string"&&(r=Buffer.from(r,"utf8")),$l.default.createHash("sha1").update(r).digest()}var Nl=jl;Ur.default=Nl});var na=k(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.default=void 0;var Hl=ra(Yn()),Vl=ra(ta());function ra(r){return r&&r.__esModule?r:{default:r}}var Yl=(0,Hl.default)("v5",80,Vl.default),Gl=Yl;xr.default=Gl});var oa=k($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.default=void 0;var Ql="00000000-0000-0000-0000-000000000000";$r.default=Ql});var ia=k(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.default=void 0;var Jl=Kl(Mt());function Kl(r){return r&&r.__esModule?r:{default:r}}function Zl(r){if(!(0,Jl.default)(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var Xl=Zl;zr.default=Xl});var aa=k(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});Object.defineProperty(he,"v1",{enumerable:!0,get:function(){return ef.default}});Object.defineProperty(he,"v3",{enumerable:!0,get:function(){return tf.default}});Object.defineProperty(he,"v4",{enumerable:!0,get:function(){return rf.default}});Object.defineProperty(he,"v5",{enumerable:!0,get:function(){return nf.default}});Object.defineProperty(he,"NIL",{enumerable:!0,get:function(){return of.default}});Object.defineProperty(he,"version",{enumerable:!0,get:function(){return af.default}});Object.defineProperty(he,"validate",{enumerable:!0,get:function(){return sf.default}});Object.defineProperty(he,"stringify",{enumerable:!0,get:function(){return uf.default}});Object.defineProperty(he,"parse",{enumerable:!0,get:function(){return lf.default}});var ef=Ae(Vi()),tf=Ae(Zi()),rf=Ae(ea()),nf=Ae(na()),of=Ae(oa()),af=Ae(ia()),sf=Ae(Mt()),uf=Ae(Ut()),lf=Ae(Vn());function Ae(r){return r&&r.__esModule?r:{default:r}}});var ua=k(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.checkBypass=mt.getProxyUrl=void 0;function ff(r){let t=r.protocol==="https:";if(sa(r))return;let o=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(o)return new URL(o)}mt.getProxyUrl=ff;function sa(r){if(!r.hostname)return!1;let t=process.env.no_proxy||process.env.NO_PROXY||"";if(!t)return!1;let o;r.port?o=Number(r.port):r.protocol==="http:"?o=80:r.protocol==="https:"&&(o=443);let i=[r.hostname.toUpperCase()];typeof o=="number"&&i.push(`${i[0]}:${o}`);for(let s of t.split(",").map(l=>l.trim().toUpperCase()).filter(l=>l))if(i.some(l=>l===s))return!0;return!1}mt.checkBypass=sa});var da=k(bt=>{"use strict";var ed=require("net"),cf=require("tls"),Gn=require("http"),la=require("https"),df=require("events"),td=require("assert"),hf=require("util");bt.httpOverHttp=pf;bt.httpsOverHttp=mf;bt.httpOverHttps=bf;bt.httpsOverHttps=yf;function pf(r){var t=new Ce(r);return t.request=Gn.request,t}function mf(r){var t=new Ce(r);return t.request=Gn.request,t.createSocket=fa,t.defaultPort=443,t}function bf(r){var t=new Ce(r);return t.request=la.request,t}function yf(r){var t=new Ce(r);return t.request=la.request,t.createSocket=fa,t.defaultPort=443,t}function Ce(r){var t=this;t.options=r||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||Gn.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(i,s,l,f){for(var m=ca(s,l,f),h=0,d=t.requests.length;h<d;++h){var y=t.requests[h];if(y.host===m.host&&y.port===m.port){t.requests.splice(h,1),y.request.onSocket(i);return}}i.destroy(),t.removeSocket(i)})}hf.inherits(Ce,df.EventEmitter);Ce.prototype.addRequest=function(t,o,i,s){var l=this,f=Qn({request:t},l.options,ca(o,i,s));if(l.sockets.length>=this.maxSockets){l.requests.push(f);return}l.createSocket(f,function(m){m.on("free",h),m.on("close",d),m.on("agentRemove",d),t.onSocket(m);function h(){l.emit("free",m,f)}function d(y){l.removeSocket(m),m.removeListener("free",h),m.removeListener("close",d),m.removeListener("agentRemove",d)}})};Ce.prototype.createSocket=function(t,o){var i=this,s={};i.sockets.push(s);var l=Qn({},i.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(l.localAddress=t.localAddress),l.proxyAuth&&(l.headers=l.headers||{},l.headers["Proxy-Authorization"]="Basic "+new Buffer(l.proxyAuth).toString("base64")),$e("making CONNECT request");var f=i.request(l);f.useChunkedEncodingByDefault=!1,f.once("response",m),f.once("upgrade",h),f.once("connect",d),f.once("error",y),f.end();function m(g){g.upgrade=!0}function h(g,_,w){process.nextTick(function(){d(g,_,w)})}function d(g,_,w){if(f.removeAllListeners(),_.removeAllListeners(),g.statusCode!==200){$e("tunneling socket could not be established, statusCode=%d",g.statusCode),_.destroy();var S=new Error("tunneling socket could not be established, statusCode="+g.statusCode);S.code="ECONNRESET",t.request.emit("error",S),i.removeSocket(s);return}if(w.length>0){$e("got illegal response body from proxy"),_.destroy();var S=new Error("got illegal response body from proxy");S.code="ECONNRESET",t.request.emit("error",S),i.removeSocket(s);return}return $e("tunneling connection has established"),i.sockets[i.sockets.indexOf(s)]=_,o(_)}function y(g){f.removeAllListeners(),$e(`tunneling socket could not be established, cause=%s
`,g.message,g.stack);var _=new Error("tunneling socket could not be established, cause="+g.message);_.code="ECONNRESET",t.request.emit("error",_),i.removeSocket(s)}};Ce.prototype.removeSocket=function(t){var o=this.sockets.indexOf(t);if(o!==-1){this.sockets.splice(o,1);var i=this.requests.shift();i&&this.createSocket(i,function(s){i.request.onSocket(s)})}};function fa(r,t){var o=this;Ce.prototype.createSocket.call(o,r,function(i){var s=r.request.getHeader("host"),l=Qn({},o.options,{socket:i,servername:s?s.replace(/:.*$/,""):r.host}),f=cf.connect(0,l);o.sockets[o.sockets.indexOf(i)]=f,t(f)})}function ca(r,t,o){return typeof r=="string"?{host:r,port:t,localAddress:o}:r}function Qn(r){for(var t=1,o=arguments.length;t<o;++t){var i=arguments[t];if(typeof i=="object")for(var s=Object.keys(i),l=0,f=s.length;l<f;++l){var m=s[l];i[m]!==void 0&&(r[m]=i[m])}}return r}var $e;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?$e=function(){var r=Array.prototype.slice.call(arguments);typeof r[0]=="string"?r[0]="TUNNEL: "+r[0]:r.unshift("TUNNEL:"),console.error.apply(console,r)}:$e=function(){};bt.debug=$e});var pa=k((nd,ha)=>{ha.exports=da()});var ba=k(W=>{"use strict";var _f=W&&W.__createBinding||(Object.create?function(r,t,o,i){i===void 0&&(i=o),Object.defineProperty(r,i,{enumerable:!0,get:function(){return t[o]}})}:function(r,t,o,i){i===void 0&&(i=o),r[i]=t[o]}),gf=W&&W.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),Yr=W&&W.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var o in r)o!=="default"&&Object.hasOwnProperty.call(r,o)&&_f(t,r,o);return gf(t,r),t},z=W&&W.__awaiter||function(r,t,o,i){function s(l){return l instanceof o?l:new o(function(f){f(l)})}return new(o||(o=Promise))(function(l,f){function m(y){try{d(i.next(y))}catch(g){f(g)}}function h(y){try{d(i.throw(y))}catch(g){f(g)}}function d(y){y.done?l(y.value):s(y.value).then(m,h)}d((i=i.apply(r,t||[])).next())})};Object.defineProperty(W,"__esModule",{value:!0});W.HttpClient=W.isHttps=W.HttpClientResponse=W.HttpClientError=W.getProxyUrl=W.MediaTypes=W.Headers=W.HttpCodes=void 0;var jr=Yr(require("http")),Jn=Yr(require("https")),ma=Yr(ua()),Nr=Yr(pa()),pe;(function(r){r[r.OK=200]="OK",r[r.MultipleChoices=300]="MultipleChoices",r[r.MovedPermanently=301]="MovedPermanently",r[r.ResourceMoved=302]="ResourceMoved",r[r.SeeOther=303]="SeeOther",r[r.NotModified=304]="NotModified",r[r.UseProxy=305]="UseProxy",r[r.SwitchProxy=306]="SwitchProxy",r[r.TemporaryRedirect=307]="TemporaryRedirect",r[r.PermanentRedirect=308]="PermanentRedirect",r[r.BadRequest=400]="BadRequest",r[r.Unauthorized=401]="Unauthorized",r[r.PaymentRequired=402]="PaymentRequired",r[r.Forbidden=403]="Forbidden",r[r.NotFound=404]="NotFound",r[r.MethodNotAllowed=405]="MethodNotAllowed",r[r.NotAcceptable=406]="NotAcceptable",r[r.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",r[r.RequestTimeout=408]="RequestTimeout",r[r.Conflict=409]="Conflict",r[r.Gone=410]="Gone",r[r.TooManyRequests=429]="TooManyRequests",r[r.InternalServerError=500]="InternalServerError",r[r.NotImplemented=501]="NotImplemented",r[r.BadGateway=502]="BadGateway",r[r.ServiceUnavailable=503]="ServiceUnavailable",r[r.GatewayTimeout=504]="GatewayTimeout"})(pe=W.HttpCodes||(W.HttpCodes={}));var Y;(function(r){r.Accept="accept",r.ContentType="content-type"})(Y=W.Headers||(W.Headers={}));var ze;(function(r){r.ApplicationJson="application/json"})(ze=W.MediaTypes||(W.MediaTypes={}));function Sf(r){let t=ma.getProxyUrl(new URL(r));return t?t.href:""}W.getProxyUrl=Sf;var wf=[pe.MovedPermanently,pe.ResourceMoved,pe.SeeOther,pe.TemporaryRedirect,pe.PermanentRedirect],Rf=[pe.BadGateway,pe.ServiceUnavailable,pe.GatewayTimeout],vf=["OPTIONS","GET","DELETE","HEAD"],Tf=10,Ef=5,yt=class extends Error{constructor(t,o){super(t),this.name="HttpClientError",this.statusCode=o,Object.setPrototypeOf(this,yt.prototype)}};W.HttpClientError=yt;var Vr=class{constructor(t){this.message=t}readBody(){return z(this,void 0,void 0,function*(){return new Promise(t=>z(this,void 0,void 0,function*(){let o=Buffer.alloc(0);this.message.on("data",i=>{o=Buffer.concat([o,i])}),this.message.on("end",()=>{t(o.toString())})}))})}};W.HttpClientResponse=Vr;function Pf(r){return new URL(r).protocol==="https:"}W.isHttps=Pf;var Kn=class{constructor(t,o,i){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=o||[],this.requestOptions=i,i&&(i.ignoreSslError!=null&&(this._ignoreSslError=i.ignoreSslError),this._socketTimeout=i.socketTimeout,i.allowRedirects!=null&&(this._allowRedirects=i.allowRedirects),i.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=i.allowRedirectDowngrade),i.maxRedirects!=null&&(this._maxRedirects=Math.max(i.maxRedirects,0)),i.keepAlive!=null&&(this._keepAlive=i.keepAlive),i.allowRetries!=null&&(this._allowRetries=i.allowRetries),i.maxRetries!=null&&(this._maxRetries=i.maxRetries))}options(t,o){return z(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,o||{})})}get(t,o){return z(this,void 0,void 0,function*(){return this.request("GET",t,null,o||{})})}del(t,o){return z(this,void 0,void 0,function*(){return this.request("DELETE",t,null,o||{})})}post(t,o,i){return z(this,void 0,void 0,function*(){return this.request("POST",t,o,i||{})})}patch(t,o,i){return z(this,void 0,void 0,function*(){return this.request("PATCH",t,o,i||{})})}put(t,o,i){return z(this,void 0,void 0,function*(){return this.request("PUT",t,o,i||{})})}head(t,o){return z(this,void 0,void 0,function*(){return this.request("HEAD",t,null,o||{})})}sendStream(t,o,i,s){return z(this,void 0,void 0,function*(){return this.request(t,o,i,s)})}getJson(t,o={}){return z(this,void 0,void 0,function*(){o[Y.Accept]=this._getExistingOrDefaultHeader(o,Y.Accept,ze.ApplicationJson);let i=yield this.get(t,o);return this._processResponse(i,this.requestOptions)})}postJson(t,o,i={}){return z(this,void 0,void 0,function*(){let s=JSON.stringify(o,null,2);i[Y.Accept]=this._getExistingOrDefaultHeader(i,Y.Accept,ze.ApplicationJson),i[Y.ContentType]=this._getExistingOrDefaultHeader(i,Y.ContentType,ze.ApplicationJson);let l=yield this.post(t,s,i);return this._processResponse(l,this.requestOptions)})}putJson(t,o,i={}){return z(this,void 0,void 0,function*(){let s=JSON.stringify(o,null,2);i[Y.Accept]=this._getExistingOrDefaultHeader(i,Y.Accept,ze.ApplicationJson),i[Y.ContentType]=this._getExistingOrDefaultHeader(i,Y.ContentType,ze.ApplicationJson);let l=yield this.put(t,s,i);return this._processResponse(l,this.requestOptions)})}patchJson(t,o,i={}){return z(this,void 0,void 0,function*(){let s=JSON.stringify(o,null,2);i[Y.Accept]=this._getExistingOrDefaultHeader(i,Y.Accept,ze.ApplicationJson),i[Y.ContentType]=this._getExistingOrDefaultHeader(i,Y.ContentType,ze.ApplicationJson);let l=yield this.patch(t,s,i);return this._processResponse(l,this.requestOptions)})}request(t,o,i,s){return z(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let l=new URL(o),f=this._prepareRequest(t,l,s),m=this._allowRetries&&vf.includes(t)?this._maxRetries+1:1,h=0,d;do{if(d=yield this.requestRaw(f,i),d&&d.message&&d.message.statusCode===pe.Unauthorized){let g;for(let _ of this.handlers)if(_.canHandleAuthentication(d)){g=_;break}return g?g.handleAuthentication(this,f,i):d}let y=this._maxRedirects;for(;d.message.statusCode&&wf.includes(d.message.statusCode)&&this._allowRedirects&&y>0;){let g=d.message.headers.location;if(!g)break;let _=new URL(g);if(l.protocol==="https:"&&l.protocol!==_.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield d.readBody(),_.hostname!==l.hostname)for(let w in s)w.toLowerCase()==="authorization"&&delete s[w];f=this._prepareRequest(t,_,s),d=yield this.requestRaw(f,i),y--}if(!d.message.statusCode||!Rf.includes(d.message.statusCode))return d;h+=1,h<m&&(yield d.readBody(),yield this._performExponentialBackoff(h))}while(h<m);return d})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,o){return z(this,void 0,void 0,function*(){return new Promise((i,s)=>{function l(f,m){f?s(f):m?i(m):s(new Error("Unknown error"))}this.requestRawWithCallback(t,o,l)})})}requestRawWithCallback(t,o,i){typeof o=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(o,"utf8"));let s=!1;function l(h,d){s||(s=!0,i(h,d))}let f=t.httpModule.request(t.options,h=>{let d=new Vr(h);l(void 0,d)}),m;f.on("socket",h=>{m=h}),f.setTimeout(this._socketTimeout||3*6e4,()=>{m&&m.end(),l(new Error(`Request timeout: ${t.options.path}`))}),f.on("error",function(h){l(h)}),o&&typeof o=="string"&&f.write(o,"utf8"),o&&typeof o!="string"?(o.on("close",function(){f.end()}),o.pipe(f)):f.end()}getAgent(t){let o=new URL(t);return this._getAgent(o)}_prepareRequest(t,o,i){let s={};s.parsedUrl=o;let l=s.parsedUrl.protocol==="https:";s.httpModule=l?Jn:jr;let f=l?443:80;if(s.options={},s.options.host=s.parsedUrl.hostname,s.options.port=s.parsedUrl.port?parseInt(s.parsedUrl.port):f,s.options.path=(s.parsedUrl.pathname||"")+(s.parsedUrl.search||""),s.options.method=t,s.options.headers=this._mergeHeaders(i),this.userAgent!=null&&(s.options.headers["user-agent"]=this.userAgent),s.options.agent=this._getAgent(s.parsedUrl),this.handlers)for(let m of this.handlers)m.prepareRequest(s.options);return s}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Hr(this.requestOptions.headers),Hr(t||{})):Hr(t||{})}_getExistingOrDefaultHeader(t,o,i){let s;return this.requestOptions&&this.requestOptions.headers&&(s=Hr(this.requestOptions.headers)[o]),t[o]||s||i}_getAgent(t){let o,i=ma.getProxyUrl(t),s=i&&i.hostname;if(this._keepAlive&&s&&(o=this._proxyAgent),this._keepAlive&&!s&&(o=this._agent),o)return o;let l=t.protocol==="https:",f=100;if(this.requestOptions&&(f=this.requestOptions.maxSockets||jr.globalAgent.maxSockets),i&&i.hostname){let m={maxSockets:f,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(i.username||i.password)&&{proxyAuth:`${i.username}:${i.password}`}),{host:i.hostname,port:i.port})},h,d=i.protocol==="https:";l?h=d?Nr.httpsOverHttps:Nr.httpsOverHttp:h=d?Nr.httpOverHttps:Nr.httpOverHttp,o=h(m),this._proxyAgent=o}if(this._keepAlive&&!o){let m={keepAlive:this._keepAlive,maxSockets:f};o=l?new Jn.Agent(m):new jr.Agent(m),this._agent=o}return o||(o=l?Jn.globalAgent:jr.globalAgent),l&&this._ignoreSslError&&(o.options=Object.assign(o.options||{},{rejectUnauthorized:!1})),o}_performExponentialBackoff(t){return z(this,void 0,void 0,function*(){t=Math.min(Tf,t);let o=Ef*Math.pow(2,t);return new Promise(i=>setTimeout(()=>i(),o))})}_processResponse(t,o){return z(this,void 0,void 0,function*(){return new Promise((i,s)=>z(this,void 0,void 0,function*(){let l=t.message.statusCode||0,f={statusCode:l,result:null,headers:{}};l===pe.NotFound&&i(f);function m(y,g){if(typeof g=="string"){let _=new Date(g);if(!isNaN(_.valueOf()))return _}return g}let h,d;try{d=yield t.readBody(),d&&d.length>0&&(o&&o.deserializeDates?h=JSON.parse(d,m):h=JSON.parse(d),f.result=h),f.headers=t.message.headers}catch{}if(l>299){let y;h&&h.message?y=h.message:d&&d.length>0?y=d:y=`Failed request: (${l})`;let g=new yt(y,l);g.result=f.result,s(g)}else i(f)}))})}};W.HttpClient=Kn;var Hr=r=>Object.keys(r).reduce((t,o)=>(t[o.toLowerCase()]=r[o],t),{})});var ya=k(_e=>{"use strict";var to=_e&&_e.__awaiter||function(r,t,o,i){function s(l){return l instanceof o?l:new o(function(f){f(l)})}return new(o||(o=Promise))(function(l,f){function m(y){try{d(i.next(y))}catch(g){f(g)}}function h(y){try{d(i.throw(y))}catch(g){f(g)}}function d(y){y.done?l(y.value):s(y.value).then(m,h)}d((i=i.apply(r,t||[])).next())})};Object.defineProperty(_e,"__esModule",{value:!0});_e.PersonalAccessTokenCredentialHandler=_e.BearerCredentialHandler=_e.BasicCredentialHandler=void 0;var Zn=class{constructor(t,o){this.username=t,this.password=o}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return to(this,void 0,void 0,function*(){throw new Error("not implemented")})}};_e.BasicCredentialHandler=Zn;var Xn=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return to(this,void 0,void 0,function*(){throw new Error("not implemented")})}};_e.BearerCredentialHandler=Xn;var eo=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return to(this,void 0,void 0,function*(){throw new Error("not implemented")})}};_e.PersonalAccessTokenCredentialHandler=eo});var Sa=k(_t=>{"use strict";var _a=_t&&_t.__awaiter||function(r,t,o,i){function s(l){return l instanceof o?l:new o(function(f){f(l)})}return new(o||(o=Promise))(function(l,f){function m(y){try{d(i.next(y))}catch(g){f(g)}}function h(y){try{d(i.throw(y))}catch(g){f(g)}}function d(y){y.done?l(y.value):s(y.value).then(m,h)}d((i=i.apply(r,t||[])).next())})};Object.defineProperty(_t,"__esModule",{value:!0});_t.OidcClient=void 0;var Af=ba(),Cf=ya(),ga=ro(),je=class{static createHttpClient(t=!0,o=10){let i={allowRetries:t,maxRetries:o};return new Af.HttpClient("actions/oidc-client",[new Cf.BearerCredentialHandler(je.getRequestToken())],i)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var o;return _a(this,void 0,void 0,function*(){let l=(o=(yield je.createHttpClient().getJson(t).catch(f=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${f.statusCode}
 
        Error Message: ${f.result.message}`)})).result)===null||o===void 0?void 0:o.value;if(!l)throw new Error("Response json body do not have ID Token field");return l})}static getIDToken(t){return _a(this,void 0,void 0,function*(){try{let o=je.getIDTokenUrl();if(t){let s=encodeURIComponent(t);o=`${o}&audience=${s}`}ga.debug(`ID token url is ${o}`);let i=yield je.getCall(o);return ga.setSecret(i),i}catch(o){throw new Error(`Error message: ${o.message}`)}})}};_t.OidcClient=je});var ao=k(J=>{"use strict";var no=J&&J.__awaiter||function(r,t,o,i){function s(l){return l instanceof o?l:new o(function(f){f(l)})}return new(o||(o=Promise))(function(l,f){function m(y){try{d(i.next(y))}catch(g){f(g)}}function h(y){try{d(i.throw(y))}catch(g){f(g)}}function d(y){y.done?l(y.value):s(y.value).then(m,h)}d((i=i.apply(r,t||[])).next())})};Object.defineProperty(J,"__esModule",{value:!0});J.summary=J.markdownSummary=J.SUMMARY_DOCS_URL=J.SUMMARY_ENV_VAR=void 0;var Of=require("os"),oo=require("fs"),{access:qf,appendFile:Bf,writeFile:Df}=oo.promises;J.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";J.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var io=class{constructor(){this._buffer=""}filePath(){return no(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[J.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${J.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield qf(t,oo.constants.R_OK|oo.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,o,i={}){let s=Object.entries(i).map(([l,f])=>` ${l}="${f}"`).join("");return o?`<${t}${s}>${o}</${t}>`:`<${t}${s}>`}write(t){return no(this,void 0,void 0,function*(){let o=!!(t!=null&&t.overwrite),i=yield this.filePath();return yield(o?Df:Bf)(i,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return no(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,o=!1){return this._buffer+=t,o?this.addEOL():this}addEOL(){return this.addRaw(Of.EOL)}addCodeBlock(t,o){let i=Object.assign({},o&&{lang:o}),s=this.wrap("pre",this.wrap("code",t),i);return this.addRaw(s).addEOL()}addList(t,o=!1){let i=o?"ol":"ul",s=t.map(f=>this.wrap("li",f)).join(""),l=this.wrap(i,s);return this.addRaw(l).addEOL()}addTable(t){let o=t.map(s=>{let l=s.map(f=>{if(typeof f=="string")return this.wrap("td",f);let{header:m,data:h,colspan:d,rowspan:y}=f,g=m?"th":"td",_=Object.assign(Object.assign({},d&&{colspan:d}),y&&{rowspan:y});return this.wrap(g,h,_)}).join("");return this.wrap("tr",l)}).join(""),i=this.wrap("table",o);return this.addRaw(i).addEOL()}addDetails(t,o){let i=this.wrap("details",this.wrap("summary",t)+o);return this.addRaw(i).addEOL()}addImage(t,o,i){let{width:s,height:l}=i||{},f=Object.assign(Object.assign({},s&&{width:s}),l&&{height:l}),m=this.wrap("img",null,Object.assign({src:t,alt:o},f));return this.addRaw(m).addEOL()}addHeading(t,o){let i=`h${o}`,s=["h1","h2","h3","h4","h5","h6"].includes(i)?i:"h1",l=this.wrap(s,t);return this.addRaw(l).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,o){let i=Object.assign({},o&&{cite:o}),s=this.wrap("blockquote",t,i);return this.addRaw(s).addEOL()}addLink(t,o){let i=this.wrap("a",t,{href:o});return this.addRaw(i).addEOL()}},wa=new io;J.markdownSummary=wa;J.summary=wa});var Ra=k(K=>{"use strict";var kf=K&&K.__createBinding||(Object.create?function(r,t,o,i){i===void 0&&(i=o),Object.defineProperty(r,i,{enumerable:!0,get:function(){return t[o]}})}:function(r,t,o,i){i===void 0&&(i=o),r[i]=t[o]}),Lf=K&&K.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),Wf=K&&K.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var o in r)o!=="default"&&Object.hasOwnProperty.call(r,o)&&kf(t,r,o);return Lf(t,r),t};Object.defineProperty(K,"__esModule",{value:!0});K.toPlatformPath=K.toWin32Path=K.toPosixPath=void 0;var If=Wf(require("path"));function Ff(r){return r.replace(/[\\]/g,"/")}K.toPosixPath=Ff;function Mf(r){return r.replace(/[/]/g,"\\")}K.toWin32Path=Mf;function Uf(r){return r.replace(/[/\\]/g,If.sep)}K.toPlatformPath=Uf});var ro=k(v=>{"use strict";var xf=v&&v.__createBinding||(Object.create?function(r,t,o,i){i===void 0&&(i=o),Object.defineProperty(r,i,{enumerable:!0,get:function(){return t[o]}})}:function(r,t,o,i){i===void 0&&(i=o),r[i]=t[o]}),$f=v&&v.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),va=v&&v.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var o in r)o!=="default"&&Object.hasOwnProperty.call(r,o)&&xf(t,r,o);return $f(t,r),t},Ta=v&&v.__awaiter||function(r,t,o,i){function s(l){return l instanceof o?l:new o(function(f){f(l)})}return new(o||(o=Promise))(function(l,f){function m(y){try{d(i.next(y))}catch(g){f(g)}}function h(y){try{d(i.throw(y))}catch(g){f(g)}}function d(y){y.done?l(y.value):s(y.value).then(m,h)}d((i=i.apply(r,t||[])).next())})};Object.defineProperty(v,"__esModule",{value:!0});v.getIDToken=v.getState=v.saveState=v.group=v.endGroup=v.startGroup=v.info=v.notice=v.warning=v.error=v.debug=v.isDebug=v.setFailed=v.setCommandEcho=v.setOutput=v.getBooleanInput=v.getMultilineInput=v.getInput=v.addPath=v.setSecret=v.exportVariable=v.ExitCode=void 0;var se=Ui(),Ea=zi(),Qr=Cr(),Gr=va(require("os")),zf=va(require("path")),jf=aa(),Nf=Sa(),Pa;(function(r){r[r.Success=0]="Success",r[r.Failure=1]="Failure"})(Pa=v.ExitCode||(v.ExitCode={}));function Hf(r,t){let o=Qr.toCommandValue(t);if(process.env[r]=o,process.env.GITHUB_ENV||""){let s=`ghadelimiter_${jf.v4()}`;if(r.includes(s))throw new Error(`Unexpected input: name should not contain the delimiter "${s}"`);if(o.includes(s))throw new Error(`Unexpected input: value should not contain the delimiter "${s}"`);let l=`${r}<<${s}${Gr.EOL}${o}${Gr.EOL}${s}`;Ea.issueCommand("ENV",l)}else se.issueCommand("set-env",{name:r},o)}v.exportVariable=Hf;function Vf(r){se.issueCommand("add-mask",{},r)}v.setSecret=Vf;function Yf(r){process.env.GITHUB_PATH||""?Ea.issueCommand("PATH",r):se.issueCommand("add-path",{},r),process.env.PATH=`${r}${zf.delimiter}${process.env.PATH}`}v.addPath=Yf;function so(r,t){let o=process.env[`INPUT_${r.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!o)throw new Error(`Input required and not supplied: ${r}`);return t&&t.trimWhitespace===!1?o:o.trim()}v.getInput=so;function Gf(r,t){return so(r,t).split(`
`).filter(i=>i!=="")}v.getMultilineInput=Gf;function Qf(r,t){let o=["true","True","TRUE"],i=["false","False","FALSE"],s=so(r,t);if(o.includes(s))return!0;if(i.includes(s))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${r}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}v.getBooleanInput=Qf;function Jf(r,t){process.stdout.write(Gr.EOL),se.issueCommand("set-output",{name:r},t)}v.setOutput=Jf;function Kf(r){se.issue("echo",r?"on":"off")}v.setCommandEcho=Kf;function Zf(r){process.exitCode=Pa.Failure,Aa(r)}v.setFailed=Zf;function Xf(){return process.env.RUNNER_DEBUG==="1"}v.isDebug=Xf;function ec(r){se.issueCommand("debug",{},r)}v.debug=ec;function Aa(r,t={}){se.issueCommand("error",Qr.toCommandProperties(t),r instanceof Error?r.toString():r)}v.error=Aa;function tc(r,t={}){se.issueCommand("warning",Qr.toCommandProperties(t),r instanceof Error?r.toString():r)}v.warning=tc;function rc(r,t={}){se.issueCommand("notice",Qr.toCommandProperties(t),r instanceof Error?r.toString():r)}v.notice=rc;function nc(r){process.stdout.write(r+Gr.EOL)}v.info=nc;function Ca(r){se.issue("group",r)}v.startGroup=Ca;function Oa(){se.issue("endgroup")}v.endGroup=Oa;function oc(r,t){return Ta(this,void 0,void 0,function*(){Ca(r);let o;try{o=yield t()}finally{Oa()}return o})}v.group=oc;function ic(r,t){se.issueCommand("save-state",{name:r},t)}v.saveState=ic;function ac(r){return process.env[`STATE_${r}`]||""}v.getState=ac;function sc(r){return Ta(this,void 0,void 0,function*(){return yield Nf.OidcClient.getIDToken(r)})}v.getIDToken=sc;var uc=ao();Object.defineProperty(v,"summary",{enumerable:!0,get:function(){return uc.summary}});var lc=ao();Object.defineProperty(v,"markdownSummary",{enumerable:!0,get:function(){return lc.markdownSummary}});var uo=Ra();Object.defineProperty(v,"toPosixPath",{enumerable:!0,get:function(){return uo.toPosixPath}});Object.defineProperty(v,"toWin32Path",{enumerable:!0,get:function(){return uo.toWin32Path}});Object.defineProperty(v,"toPlatformPath",{enumerable:!0,get:function(){return uo.toPlatformPath}})});var Da=k((Jr,Ba)=>{(function(r,t){typeof Jr=="object"&&typeof Ba<"u"?t(Jr):typeof define=="function"&&define.amd?define(["exports"],t):(r=typeof globalThis<"u"?globalThis:r||self,t(r.WebStreamsPolyfill={}))})(Jr,function(r){"use strict";let t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function o(){}function i(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let s=i();function l(e){return typeof e=="object"&&e!==null||typeof e=="function"}let f=o,m=Promise,h=Promise.prototype.then,d=Promise.resolve.bind(m),y=Promise.reject.bind(m);function g(e){return new m(e)}function _(e){return d(e)}function w(e){return y(e)}function S(e,n,a){return h.call(e,n,a)}function I(e,n,a){S(S(e,n,a),void 0,f)}function B(e,n){I(e,n)}function D(e,n){I(e,void 0,n)}function U(e,n,a){return S(e,n,a)}function G(e){S(e,void 0,f)}let C=(()=>{let e=s&&s.queueMicrotask;if(typeof e=="function")return e;let n=_(void 0);return a=>S(n,a)})();function x(e,n,a){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,n,a)}function L(e,n,a){try{return _(x(e,n,a))}catch(u){return w(u)}}let ke=16384;class te{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(n){let a=this._back,u=a;a._elements.length===ke-1&&(u={_elements:[],_next:void 0}),a._elements.push(n),u!==a&&(this._back=u,a._next=u),++this._size}shift(){let n=this._front,a=n,u=this._cursor,c=u+1,p=n._elements,b=p[u];return c===ke&&(a=n._next,c=0),--this._size,this._cursor=c,n!==a&&(this._front=a),p[u]=void 0,b}forEach(n){let a=this._cursor,u=this._front,c=u._elements;for(;(a!==c.length||u._next!==void 0)&&!(a===c.length&&(u=u._next,c=u._elements,a=0,c.length===0));)n(c[a]),++a}peek(){let n=this._front,a=this._cursor;return n._elements[a]}}function wo(e,n){e._ownerReadableStream=n,n._reader=e,n._state==="readable"?un(e):n._state==="closed"?hs(e):Ro(e,n._storedError)}function sn(e,n){let a=e._ownerReadableStream;return ce(a,n)}function we(e){e._ownerReadableStream._state==="readable"?ln(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):ps(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function rt(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function un(e){e._closedPromise=g((n,a)=>{e._closedPromise_resolve=n,e._closedPromise_reject=a})}function Ro(e,n){un(e),ln(e,n)}function hs(e){un(e),vo(e)}function ln(e,n){e._closedPromise_reject!==void 0&&(G(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function ps(e,n){Ro(e,n)}function vo(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let To=t("[[AbortSteps]]"),Eo=t("[[ErrorSteps]]"),fn=t("[[CancelSteps]]"),cn=t("[[PullSteps]]"),Po=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},ms=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function bs(e){return typeof e=="object"||typeof e=="function"}function Re(e,n){if(e!==void 0&&!bs(e))throw new TypeError(`${n} is not an object.`)}function le(e,n){if(typeof e!="function")throw new TypeError(`${n} is not a function.`)}function ys(e){return typeof e=="object"&&e!==null||typeof e=="function"}function Ao(e,n){if(!ys(e))throw new TypeError(`${n} is not an object.`)}function ve(e,n,a){if(e===void 0)throw new TypeError(`Parameter ${n} is required in '${a}'.`)}function dn(e,n,a){if(e===void 0)throw new TypeError(`${n} is required in '${a}'.`)}function hn(e){return Number(e)}function Co(e){return e===0?0:e}function _s(e){return Co(ms(e))}function Oo(e,n){let u=Number.MAX_SAFE_INTEGER,c=Number(e);if(c=Co(c),!Po(c))throw new TypeError(`${n} is not a finite number`);if(c=_s(c),c<0||c>u)throw new TypeError(`${n} is outside the accepted range of ${0} to ${u}, inclusive`);return!Po(c)||c===0?0:c}function pn(e,n){if(!Me(e))throw new TypeError(`${n} is not a ReadableStream.`)}function nt(e){return new Rt(e)}function qo(e,n){e._reader._readRequests.push(n)}function mn(e,n,a){let c=e._reader._readRequests.shift();a?c._closeSteps():c._chunkSteps(n)}function Jt(e){return e._reader._readRequests.length}function Bo(e){let n=e._reader;return!(n===void 0||!Le(n))}class Rt{constructor(n){if(ve(n,1,"ReadableStreamDefaultReader"),pn(n,"First parameter"),Ue(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");wo(this,n),this._readRequests=new te}get closed(){return Le(this)?this._closedPromise:w(Kt("closed"))}cancel(n=void 0){return Le(this)?this._ownerReadableStream===void 0?w(rt("cancel")):sn(this,n):w(Kt("cancel"))}read(){if(!Le(this))return w(Kt("read"));if(this._ownerReadableStream===void 0)return w(rt("read from"));let n,a,u=g((p,b)=>{n=p,a=b});return vt(this,{_chunkSteps:p=>n({value:p,done:!1}),_closeSteps:()=>n({value:void 0,done:!0}),_errorSteps:p=>a(p)}),u}releaseLock(){if(!Le(this))throw Kt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");we(this)}}}Object.defineProperties(Rt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Rt.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Le(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof Rt}function vt(e,n){let a=e._ownerReadableStream;a._disturbed=!0,a._state==="closed"?n._closeSteps():a._state==="errored"?n._errorSteps(a._storedError):a._readableStreamController[cn](n)}function Kt(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let Do=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class ko{constructor(n,a){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=n,this._preventCancel=a}next(){let n=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?U(this._ongoingPromise,n,n):n(),this._ongoingPromise}return(n){let a=()=>this._returnSteps(n);return this._ongoingPromise?U(this._ongoingPromise,a,a):a()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let n=this._reader;if(n._ownerReadableStream===void 0)return w(rt("iterate"));let a,u,c=g((b,R)=>{a=b,u=R});return vt(n,{_chunkSteps:b=>{this._ongoingPromise=void 0,C(()=>a({value:b,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,we(n),a({value:void 0,done:!0})},_errorSteps:b=>{this._ongoingPromise=void 0,this._isFinished=!0,we(n),u(b)}}),c}_returnSteps(n){if(this._isFinished)return Promise.resolve({value:n,done:!0});this._isFinished=!0;let a=this._reader;if(a._ownerReadableStream===void 0)return w(rt("finish iterating"));if(!this._preventCancel){let u=sn(a,n);return we(a),U(u,()=>({value:n,done:!0}))}return we(a),_({value:n,done:!0})}}let Lo={next(){return Wo(this)?this._asyncIteratorImpl.next():w(Io("next"))},return(e){return Wo(this)?this._asyncIteratorImpl.return(e):w(Io("return"))}};Do!==void 0&&Object.setPrototypeOf(Lo,Do);function gs(e,n){let a=nt(e),u=new ko(a,n),c=Object.create(Lo);return c._asyncIteratorImpl=u,c}function Wo(e){if(!l(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof ko}catch{return!1}}function Io(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let Fo=Number.isNaN||function(e){return e!==e};function Tt(e){return e.slice()}function Mo(e,n,a,u,c){new Uint8Array(e).set(new Uint8Array(a,u,c),n)}function kc(e){return e}function Zt(e){return!1}function Uo(e,n,a){if(e.slice)return e.slice(n,a);let u=a-n,c=new ArrayBuffer(u);return Mo(c,0,e,n,u),c}function Ss(e){return!(typeof e!="number"||Fo(e)||e<0)}function xo(e){let n=Uo(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(n)}function bn(e){let n=e._queue.shift();return e._queueTotalSize-=n.size,e._queueTotalSize<0&&(e._queueTotalSize=0),n.value}function yn(e,n,a){if(!Ss(a)||a===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:n,size:a}),e._queueTotalSize+=a}function ws(e){return e._queue.peek().value}function We(e){e._queue=new te,e._queueTotalSize=0}class Et{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!_n(this))throw Rn("view");return this._view}respond(n){if(!_n(this))throw Rn("respond");if(ve(n,1,"respond"),n=Oo(n,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Zt(this._view.buffer),nr(this._associatedReadableByteStreamController,n)}respondWithNewView(n){if(!_n(this))throw Rn("respondWithNewView");if(ve(n,1,"respondWithNewView"),!ArrayBuffer.isView(n))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Zt(n.buffer),or(this._associatedReadableByteStreamController,n)}}Object.defineProperties(Et.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Et.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class ot{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!He(this))throw At("byobRequest");return wn(this)}get desiredSize(){if(!He(this))throw At("desiredSize");return Go(this)}close(){if(!He(this))throw At("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let n=this._controlledReadableByteStream._state;if(n!=="readable")throw new TypeError(`The stream (in ${n} state) is not in the readable state and cannot be closed`);Pt(this)}enqueue(n){if(!He(this))throw At("enqueue");if(ve(n,1,"enqueue"),!ArrayBuffer.isView(n))throw new TypeError("chunk must be an array buffer view");if(n.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(n.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let a=this._controlledReadableByteStream._state;if(a!=="readable")throw new TypeError(`The stream (in ${a} state) is not in the readable state and cannot be enqueued to`);rr(this,n)}error(n=void 0){if(!He(this))throw At("error");fe(this,n)}[fn](n){$o(this),We(this);let a=this._cancelAlgorithm(n);return tr(this),a}[cn](n){let a=this._controlledReadableByteStream;if(this._queueTotalSize>0){let c=this._queue.shift();this._queueTotalSize-=c.byteLength,Ho(this);let p=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);n._chunkSteps(p);return}let u=this._autoAllocateChunkSize;if(u!==void 0){let c;try{c=new ArrayBuffer(u)}catch(b){n._errorSteps(b);return}let p={buffer:c,bufferByteLength:u,byteOffset:0,byteLength:u,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(p)}qo(a,n),Ve(this)}}Object.defineProperties(ot.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(ot.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function He(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof ot}function _n(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof Et}function Ve(e){if(!Es(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let a=e._pullAlgorithm();I(a,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Ve(e))},u=>{fe(e,u)})}function $o(e){Sn(e),e._pendingPullIntos=new te}function gn(e,n){let a=!1;e._state==="closed"&&(a=!0);let u=zo(n);n.readerType==="default"?mn(e,u,a):Cs(e,u,a)}function zo(e){let n=e.bytesFilled,a=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,n/a)}function Xt(e,n,a,u){e._queue.push({buffer:n,byteOffset:a,byteLength:u}),e._queueTotalSize+=u}function jo(e,n){let a=n.elementSize,u=n.bytesFilled-n.bytesFilled%a,c=Math.min(e._queueTotalSize,n.byteLength-n.bytesFilled),p=n.bytesFilled+c,b=p-p%a,R=c,E=!1;b>u&&(R=b-n.bytesFilled,E=!0);let A=e._queue;for(;R>0;){let O=A.peek(),q=Math.min(R,O.byteLength),$=n.byteOffset+n.bytesFilled;Mo(n.buffer,$,O.buffer,O.byteOffset,q),O.byteLength===q?A.shift():(O.byteOffset+=q,O.byteLength-=q),e._queueTotalSize-=q,No(e,q,n),R-=q}return E}function No(e,n,a){a.bytesFilled+=n}function Ho(e){e._queueTotalSize===0&&e._closeRequested?(tr(e),Wt(e._controlledReadableByteStream)):Ve(e)}function Sn(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Vo(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let n=e._pendingPullIntos.peek();jo(e,n)&&(er(e),gn(e._controlledReadableByteStream,n))}}function Rs(e,n,a){let u=e._controlledReadableByteStream,c=1;n.constructor!==DataView&&(c=n.constructor.BYTES_PER_ELEMENT);let p=n.constructor,b=n.buffer,R={buffer:b,bufferByteLength:b.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:c,viewConstructor:p,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(R),Ko(u,a);return}if(u._state==="closed"){let E=new p(R.buffer,R.byteOffset,0);a._closeSteps(E);return}if(e._queueTotalSize>0){if(jo(e,R)){let E=zo(R);Ho(e),a._chunkSteps(E);return}if(e._closeRequested){let E=new TypeError("Insufficient bytes to fill elements in the given buffer");fe(e,E),a._errorSteps(E);return}}e._pendingPullIntos.push(R),Ko(u,a),Ve(e)}function vs(e,n){let a=e._controlledReadableByteStream;if(vn(a))for(;Zo(a)>0;){let u=er(e);gn(a,u)}}function Ts(e,n,a){if(No(e,n,a),a.bytesFilled<a.elementSize)return;er(e);let u=a.bytesFilled%a.elementSize;if(u>0){let c=a.byteOffset+a.bytesFilled,p=Uo(a.buffer,c-u,c);Xt(e,p,0,p.byteLength)}a.bytesFilled-=u,gn(e._controlledReadableByteStream,a),Vo(e)}function Yo(e,n){let a=e._pendingPullIntos.peek();Sn(e),e._controlledReadableByteStream._state==="closed"?vs(e):Ts(e,n,a),Ve(e)}function er(e){return e._pendingPullIntos.shift()}function Es(e){let n=e._controlledReadableByteStream;return n._state!=="readable"||e._closeRequested||!e._started?!1:!!(Bo(n)&&Jt(n)>0||vn(n)&&Zo(n)>0||Go(e)>0)}function tr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Pt(e){let n=e._controlledReadableByteStream;if(!(e._closeRequested||n._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let u=new TypeError("Insufficient bytes to fill elements in the given buffer");throw fe(e,u),u}tr(e),Wt(n)}}function rr(e,n){let a=e._controlledReadableByteStream;if(e._closeRequested||a._state!=="readable")return;let u=n.buffer,c=n.byteOffset,p=n.byteLength,b=u;if(e._pendingPullIntos.length>0){let R=e._pendingPullIntos.peek();Zt(R.buffer),R.buffer=R.buffer}if(Sn(e),Bo(a))if(Jt(a)===0)Xt(e,b,c,p);else{e._pendingPullIntos.length>0&&er(e);let R=new Uint8Array(b,c,p);mn(a,R,!1)}else vn(a)?(Xt(e,b,c,p),Vo(e)):Xt(e,b,c,p);Ve(e)}function fe(e,n){let a=e._controlledReadableByteStream;a._state==="readable"&&($o(e),We(e),tr(e),Ri(a,n))}function wn(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let n=e._pendingPullIntos.peek(),a=new Uint8Array(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),u=Object.create(Et.prototype);As(u,e,a),e._byobRequest=u}return e._byobRequest}function Go(e){let n=e._controlledReadableByteStream._state;return n==="errored"?null:n==="closed"?0:e._strategyHWM-e._queueTotalSize}function nr(e,n){let a=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(n!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(n===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(a.bytesFilled+n>a.byteLength)throw new RangeError("bytesWritten out of range")}a.buffer=a.buffer,Yo(e,n)}function or(e,n){let a=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(n.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(n.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(a.byteOffset+a.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(a.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(a.bytesFilled+n.byteLength>a.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let c=n.byteLength;a.buffer=n.buffer,Yo(e,c)}function Qo(e,n,a,u,c,p,b){n._controlledReadableByteStream=e,n._pullAgain=!1,n._pulling=!1,n._byobRequest=null,n._queue=n._queueTotalSize=void 0,We(n),n._closeRequested=!1,n._started=!1,n._strategyHWM=p,n._pullAlgorithm=u,n._cancelAlgorithm=c,n._autoAllocateChunkSize=b,n._pendingPullIntos=new te,e._readableStreamController=n;let R=a();I(_(R),()=>{n._started=!0,Ve(n)},E=>{fe(n,E)})}function Ps(e,n,a){let u=Object.create(ot.prototype),c=()=>{},p=()=>_(void 0),b=()=>_(void 0);n.start!==void 0&&(c=()=>n.start(u)),n.pull!==void 0&&(p=()=>n.pull(u)),n.cancel!==void 0&&(b=E=>n.cancel(E));let R=n.autoAllocateChunkSize;if(R===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Qo(e,u,c,p,b,a,R)}function As(e,n,a){e._associatedReadableByteStreamController=n,e._view=a}function Rn(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function At(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Jo(e){return new Ct(e)}function Ko(e,n){e._reader._readIntoRequests.push(n)}function Cs(e,n,a){let c=e._reader._readIntoRequests.shift();a?c._closeSteps(n):c._chunkSteps(n)}function Zo(e){return e._reader._readIntoRequests.length}function vn(e){let n=e._reader;return!(n===void 0||!Ye(n))}class Ct{constructor(n){if(ve(n,1,"ReadableStreamBYOBReader"),pn(n,"First parameter"),Ue(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!He(n._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");wo(this,n),this._readIntoRequests=new te}get closed(){return Ye(this)?this._closedPromise:w(ir("closed"))}cancel(n=void 0){return Ye(this)?this._ownerReadableStream===void 0?w(rt("cancel")):sn(this,n):w(ir("cancel"))}read(n){if(!Ye(this))return w(ir("read"));if(!ArrayBuffer.isView(n))return w(new TypeError("view must be an array buffer view"));if(n.byteLength===0)return w(new TypeError("view must have non-zero byteLength"));if(n.buffer.byteLength===0)return w(new TypeError("view's buffer must have non-zero byteLength"));if(Zt(n.buffer),this._ownerReadableStream===void 0)return w(rt("read from"));let a,u,c=g((b,R)=>{a=b,u=R});return Xo(this,n,{_chunkSteps:b=>a({value:b,done:!1}),_closeSteps:b=>a({value:b,done:!0}),_errorSteps:b=>u(b)}),c}releaseLock(){if(!Ye(this))throw ir("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");we(this)}}}Object.defineProperties(Ct.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Ct.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Ye(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof Ct}function Xo(e,n,a){let u=e._ownerReadableStream;u._disturbed=!0,u._state==="errored"?a._errorSteps(u._storedError):Rs(u._readableStreamController,n,a)}function ir(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Ot(e,n){let{highWaterMark:a}=e;if(a===void 0)return n;if(Fo(a)||a<0)throw new RangeError("Invalid highWaterMark");return a}function ar(e){let{size:n}=e;return n||(()=>1)}function sr(e,n){Re(e,n);let a=e==null?void 0:e.highWaterMark,u=e==null?void 0:e.size;return{highWaterMark:a===void 0?void 0:hn(a),size:u===void 0?void 0:Os(u,`${n} has member 'size' that`)}}function Os(e,n){return le(e,n),a=>hn(e(a))}function qs(e,n){Re(e,n);let a=e==null?void 0:e.abort,u=e==null?void 0:e.close,c=e==null?void 0:e.start,p=e==null?void 0:e.type,b=e==null?void 0:e.write;return{abort:a===void 0?void 0:Bs(a,e,`${n} has member 'abort' that`),close:u===void 0?void 0:Ds(u,e,`${n} has member 'close' that`),start:c===void 0?void 0:ks(c,e,`${n} has member 'start' that`),write:b===void 0?void 0:Ls(b,e,`${n} has member 'write' that`),type:p}}function Bs(e,n,a){return le(e,a),u=>L(e,n,[u])}function Ds(e,n,a){return le(e,a),()=>L(e,n,[])}function ks(e,n,a){return le(e,a),u=>x(e,n,[u])}function Ls(e,n,a){return le(e,a),(u,c)=>L(e,n,[u,c])}function ei(e,n){if(!it(e))throw new TypeError(`${n} is not a WritableStream.`)}function Ws(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let Is=typeof AbortController=="function";function Fs(){if(Is)return new AbortController}class qt{constructor(n={},a={}){n===void 0?n=null:Ao(n,"First parameter");let u=sr(a,"Second parameter"),c=qs(n,"First parameter");if(ri(this),c.type!==void 0)throw new RangeError("Invalid type is specified");let b=ar(u),R=Ot(u,1);Ks(this,c,R,b)}get locked(){if(!it(this))throw dr("locked");return at(this)}abort(n=void 0){return it(this)?at(this)?w(new TypeError("Cannot abort a stream that already has a writer")):ur(this,n):w(dr("abort"))}close(){return it(this)?at(this)?w(new TypeError("Cannot close a stream that already has a writer")):be(this)?w(new TypeError("Cannot close an already-closing stream")):ni(this):w(dr("close"))}getWriter(){if(!it(this))throw dr("getWriter");return ti(this)}}Object.defineProperties(qt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(qt.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});function ti(e){return new Bt(e)}function Ms(e,n,a,u,c=1,p=()=>1){let b=Object.create(qt.prototype);ri(b);let R=Object.create(st.prototype);return li(b,R,e,n,a,u,c,p),b}function ri(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new te,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function it(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof qt}function at(e){return e._writer!==void 0}function ur(e,n){var a;if(e._state==="closed"||e._state==="errored")return _(void 0);e._writableStreamController._abortReason=n,(a=e._writableStreamController._abortController)===null||a===void 0||a.abort();let u=e._state;if(u==="closed"||u==="errored")return _(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let c=!1;u==="erroring"&&(c=!0,n=void 0);let p=g((b,R)=>{e._pendingAbortRequest={_promise:void 0,_resolve:b,_reject:R,_reason:n,_wasAlreadyErroring:c}});return e._pendingAbortRequest._promise=p,c||En(e,n),p}function ni(e){let n=e._state;if(n==="closed"||n==="errored")return w(new TypeError(`The stream (in ${n} state) is not in the writable state and cannot be closed`));let a=g((c,p)=>{let b={_resolve:c,_reject:p};e._closeRequest=b}),u=e._writer;return u!==void 0&&e._backpressure&&n==="writable"&&Ln(u),Zs(e._writableStreamController),a}function Us(e){return g((a,u)=>{let c={_resolve:a,_reject:u};e._writeRequests.push(c)})}function Tn(e,n){if(e._state==="writable"){En(e,n);return}Pn(e)}function En(e,n){let a=e._writableStreamController;e._state="erroring",e._storedError=n;let u=e._writer;u!==void 0&&ii(u,n),!Ns(e)&&a._started&&Pn(e)}function Pn(e){e._state="errored",e._writableStreamController[Eo]();let n=e._storedError;if(e._writeRequests.forEach(c=>{c._reject(n)}),e._writeRequests=new te,e._pendingAbortRequest===void 0){lr(e);return}let a=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,a._wasAlreadyErroring){a._reject(n),lr(e);return}let u=e._writableStreamController[To](a._reason);I(u,()=>{a._resolve(),lr(e)},c=>{a._reject(c),lr(e)})}function xs(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function $s(e,n){e._inFlightWriteRequest._reject(n),e._inFlightWriteRequest=void 0,Tn(e,n)}function zs(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let a=e._writer;a!==void 0&&hi(a)}function js(e,n){e._inFlightCloseRequest._reject(n),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(n),e._pendingAbortRequest=void 0),Tn(e,n)}function be(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function Ns(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function Hs(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Vs(e){e._inFlightWriteRequest=e._writeRequests.shift()}function lr(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let n=e._writer;n!==void 0&&Dn(n,e._storedError)}function An(e,n){let a=e._writer;a!==void 0&&n!==e._backpressure&&(n?iu(a):Ln(a)),e._backpressure=n}class Bt{constructor(n){if(ve(n,1,"WritableStreamDefaultWriter"),ei(n,"First parameter"),at(n))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=n,n._writer=this;let a=n._state;if(a==="writable")!be(n)&&n._backpressure?pr(this):pi(this),hr(this);else if(a==="erroring")kn(this,n._storedError),hr(this);else if(a==="closed")pi(this),nu(this);else{let u=n._storedError;kn(this,u),di(this,u)}}get closed(){return Ge(this)?this._closedPromise:w(Qe("closed"))}get desiredSize(){if(!Ge(this))throw Qe("desiredSize");if(this._ownerWritableStream===void 0)throw Dt("desiredSize");return Js(this)}get ready(){return Ge(this)?this._readyPromise:w(Qe("ready"))}abort(n=void 0){return Ge(this)?this._ownerWritableStream===void 0?w(Dt("abort")):Ys(this,n):w(Qe("abort"))}close(){if(!Ge(this))return w(Qe("close"));let n=this._ownerWritableStream;return n===void 0?w(Dt("close")):be(n)?w(new TypeError("Cannot close an already-closing stream")):oi(this)}releaseLock(){if(!Ge(this))throw Qe("releaseLock");this._ownerWritableStream!==void 0&&ai(this)}write(n=void 0){return Ge(this)?this._ownerWritableStream===void 0?w(Dt("write to")):si(this,n):w(Qe("write"))}}Object.defineProperties(Bt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Bt.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Ge(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof Bt}function Ys(e,n){let a=e._ownerWritableStream;return ur(a,n)}function oi(e){let n=e._ownerWritableStream;return ni(n)}function Gs(e){let n=e._ownerWritableStream,a=n._state;return be(n)||a==="closed"?_(void 0):a==="errored"?w(n._storedError):oi(e)}function Qs(e,n){e._closedPromiseState==="pending"?Dn(e,n):ou(e,n)}function ii(e,n){e._readyPromiseState==="pending"?mi(e,n):au(e,n)}function Js(e){let n=e._ownerWritableStream,a=n._state;return a==="errored"||a==="erroring"?null:a==="closed"?0:fi(n._writableStreamController)}function ai(e){let n=e._ownerWritableStream,a=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");ii(e,a),Qs(e,a),n._writer=void 0,e._ownerWritableStream=void 0}function si(e,n){let a=e._ownerWritableStream,u=a._writableStreamController,c=Xs(u,n);if(a!==e._ownerWritableStream)return w(Dt("write to"));let p=a._state;if(p==="errored")return w(a._storedError);if(be(a)||p==="closed")return w(new TypeError("The stream is closing or closed and cannot be written to"));if(p==="erroring")return w(a._storedError);let b=Us(a);return eu(u,n,c),b}let ui={};class st{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Cn(this))throw Bn("abortReason");return this._abortReason}get signal(){if(!Cn(this))throw Bn("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(n=void 0){if(!Cn(this))throw Bn("error");this._controlledWritableStream._state==="writable"&&ci(this,n)}[To](n){let a=this._abortAlgorithm(n);return fr(this),a}[Eo](){We(this)}}Object.defineProperties(st.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(st.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Cn(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof st}function li(e,n,a,u,c,p,b,R){n._controlledWritableStream=e,e._writableStreamController=n,n._queue=void 0,n._queueTotalSize=void 0,We(n),n._abortReason=void 0,n._abortController=Fs(),n._started=!1,n._strategySizeAlgorithm=R,n._strategyHWM=b,n._writeAlgorithm=u,n._closeAlgorithm=c,n._abortAlgorithm=p;let E=qn(n);An(e,E);let A=a(),O=_(A);I(O,()=>{n._started=!0,cr(n)},q=>{n._started=!0,Tn(e,q)})}function Ks(e,n,a,u){let c=Object.create(st.prototype),p=()=>{},b=()=>_(void 0),R=()=>_(void 0),E=()=>_(void 0);n.start!==void 0&&(p=()=>n.start(c)),n.write!==void 0&&(b=A=>n.write(A,c)),n.close!==void 0&&(R=()=>n.close()),n.abort!==void 0&&(E=A=>n.abort(A)),li(e,c,p,b,R,E,a,u)}function fr(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Zs(e){yn(e,ui,0),cr(e)}function Xs(e,n){try{return e._strategySizeAlgorithm(n)}catch(a){return On(e,a),1}}function fi(e){return e._strategyHWM-e._queueTotalSize}function eu(e,n,a){try{yn(e,n,a)}catch(c){On(e,c);return}let u=e._controlledWritableStream;if(!be(u)&&u._state==="writable"){let c=qn(e);An(u,c)}cr(e)}function cr(e){let n=e._controlledWritableStream;if(!e._started||n._inFlightWriteRequest!==void 0)return;if(n._state==="erroring"){Pn(n);return}if(e._queue.length===0)return;let u=ws(e);u===ui?tu(e):ru(e,u)}function On(e,n){e._controlledWritableStream._state==="writable"&&ci(e,n)}function tu(e){let n=e._controlledWritableStream;Hs(n),bn(e);let a=e._closeAlgorithm();fr(e),I(a,()=>{zs(n)},u=>{js(n,u)})}function ru(e,n){let a=e._controlledWritableStream;Vs(a);let u=e._writeAlgorithm(n);I(u,()=>{xs(a);let c=a._state;if(bn(e),!be(a)&&c==="writable"){let p=qn(e);An(a,p)}cr(e)},c=>{a._state==="writable"&&fr(e),$s(a,c)})}function qn(e){return fi(e)<=0}function ci(e,n){let a=e._controlledWritableStream;fr(e),En(a,n)}function dr(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Bn(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Qe(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Dt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function hr(e){e._closedPromise=g((n,a)=>{e._closedPromise_resolve=n,e._closedPromise_reject=a,e._closedPromiseState="pending"})}function di(e,n){hr(e),Dn(e,n)}function nu(e){hr(e),hi(e)}function Dn(e,n){e._closedPromise_reject!==void 0&&(G(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function ou(e,n){di(e,n)}function hi(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function pr(e){e._readyPromise=g((n,a)=>{e._readyPromise_resolve=n,e._readyPromise_reject=a}),e._readyPromiseState="pending"}function kn(e,n){pr(e),mi(e,n)}function pi(e){pr(e),Ln(e)}function mi(e,n){e._readyPromise_reject!==void 0&&(G(e._readyPromise),e._readyPromise_reject(n),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function iu(e){pr(e)}function au(e,n){kn(e,n)}function Ln(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let bi=typeof DOMException<"u"?DOMException:void 0;function su(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function uu(){let e=function(a,u){this.message=a||"",this.name=u||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let lu=su(bi)?bi:uu();function yi(e,n,a,u,c,p){let b=nt(e),R=ti(n);e._disturbed=!0;let E=!1,A=_(void 0);return g((O,q)=>{let $;if(p!==void 0){if($=()=>{let T=new lu("Aborted","AbortError"),P=[];u||P.push(()=>n._state==="writable"?ur(n,T):_(void 0)),c||P.push(()=>e._state==="readable"?ce(e,T):_(void 0)),Q(()=>Promise.all(P.map(F=>F())),!0,T)},p.aborted){$();return}p.addEventListener("abort",$)}function de(){return g((T,P)=>{function F(re){re?T():S(ft(),F,P)}F(!1)})}function ft(){return E?_(!0):S(R._readyPromise,()=>g((T,P)=>{vt(b,{_chunkSteps:F=>{A=S(si(R,F),void 0,o),T(!1)},_closeSteps:()=>T(!0),_errorSteps:P})}))}if(Te(e,b._closedPromise,T=>{u?ie(!0,T):Q(()=>ur(n,T),!0,T)}),Te(n,R._closedPromise,T=>{c?ie(!0,T):Q(()=>ce(e,T),!0,T)}),V(e,b._closedPromise,()=>{a?ie():Q(()=>Gs(R))}),be(n)||n._state==="closed"){let T=new TypeError("the destination writable stream closed before all data could be piped to it");c?ie(!0,T):Q(()=>ce(e,T),!0,T)}G(de());function xe(){let T=A;return S(A,()=>T!==A?xe():void 0)}function Te(T,P,F){T._state==="errored"?F(T._storedError):D(P,F)}function V(T,P,F){T._state==="closed"?F():B(P,F)}function Q(T,P,F){if(E)return;E=!0,n._state==="writable"&&!be(n)?B(xe(),re):re();function re(){I(T(),()=>Ee(P,F),ct=>Ee(!0,ct))}}function ie(T,P){E||(E=!0,n._state==="writable"&&!be(n)?B(xe(),()=>Ee(T,P)):Ee(T,P))}function Ee(T,P){ai(R),we(b),p!==void 0&&p.removeEventListener("abort",$),T?q(P):O(void 0)}})}class ut{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!mr(this))throw _r("desiredSize");return Wn(this)}close(){if(!mr(this))throw _r("close");if(!lt(this))throw new TypeError("The stream is not in a state that permits close");Lt(this)}enqueue(n=void 0){if(!mr(this))throw _r("enqueue");if(!lt(this))throw new TypeError("The stream is not in a state that permits enqueue");return yr(this,n)}error(n=void 0){if(!mr(this))throw _r("error");Ie(this,n)}[fn](n){We(this);let a=this._cancelAlgorithm(n);return br(this),a}[cn](n){let a=this._controlledReadableStream;if(this._queue.length>0){let u=bn(this);this._closeRequested&&this._queue.length===0?(br(this),Wt(a)):kt(this),n._chunkSteps(u)}else qo(a,n),kt(this)}}Object.defineProperties(ut.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(ut.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function mr(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof ut}function kt(e){if(!_i(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let a=e._pullAlgorithm();I(a,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,kt(e))},u=>{Ie(e,u)})}function _i(e){let n=e._controlledReadableStream;return!lt(e)||!e._started?!1:!!(Ue(n)&&Jt(n)>0||Wn(e)>0)}function br(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Lt(e){if(!lt(e))return;let n=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(br(e),Wt(n))}function yr(e,n){if(!lt(e))return;let a=e._controlledReadableStream;if(Ue(a)&&Jt(a)>0)mn(a,n,!1);else{let u;try{u=e._strategySizeAlgorithm(n)}catch(c){throw Ie(e,c),c}try{yn(e,n,u)}catch(c){throw Ie(e,c),c}}kt(e)}function Ie(e,n){let a=e._controlledReadableStream;a._state==="readable"&&(We(e),br(e),Ri(a,n))}function Wn(e){let n=e._controlledReadableStream._state;return n==="errored"?null:n==="closed"?0:e._strategyHWM-e._queueTotalSize}function fu(e){return!_i(e)}function lt(e){let n=e._controlledReadableStream._state;return!e._closeRequested&&n==="readable"}function gi(e,n,a,u,c,p,b){n._controlledReadableStream=e,n._queue=void 0,n._queueTotalSize=void 0,We(n),n._started=!1,n._closeRequested=!1,n._pullAgain=!1,n._pulling=!1,n._strategySizeAlgorithm=b,n._strategyHWM=p,n._pullAlgorithm=u,n._cancelAlgorithm=c,e._readableStreamController=n;let R=a();I(_(R),()=>{n._started=!0,kt(n)},E=>{Ie(n,E)})}function cu(e,n,a,u){let c=Object.create(ut.prototype),p=()=>{},b=()=>_(void 0),R=()=>_(void 0);n.start!==void 0&&(p=()=>n.start(c)),n.pull!==void 0&&(b=()=>n.pull(c)),n.cancel!==void 0&&(R=E=>n.cancel(E)),gi(e,c,p,b,R,a,u)}function _r(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function du(e,n){return He(e._readableStreamController)?pu(e):hu(e)}function hu(e,n){let a=nt(e),u=!1,c=!1,p=!1,b=!1,R,E,A,O,q,$=g(V=>{q=V});function de(){return u?(c=!0,_(void 0)):(u=!0,vt(a,{_chunkSteps:Q=>{C(()=>{c=!1;let ie=Q,Ee=Q;p||yr(A._readableStreamController,ie),b||yr(O._readableStreamController,Ee),u=!1,c&&de()})},_closeSteps:()=>{u=!1,p||Lt(A._readableStreamController),b||Lt(O._readableStreamController),(!p||!b)&&q(void 0)},_errorSteps:()=>{u=!1}}),_(void 0))}function ft(V){if(p=!0,R=V,b){let Q=Tt([R,E]),ie=ce(e,Q);q(ie)}return $}function xe(V){if(b=!0,E=V,p){let Q=Tt([R,E]),ie=ce(e,Q);q(ie)}return $}function Te(){}return A=In(Te,de,ft),O=In(Te,de,xe),D(a._closedPromise,V=>{Ie(A._readableStreamController,V),Ie(O._readableStreamController,V),(!p||!b)&&q(void 0)}),[A,O]}function pu(e){let n=nt(e),a=!1,u=!1,c=!1,p=!1,b=!1,R,E,A,O,q,$=g(T=>{q=T});function de(T){D(T._closedPromise,P=>{T===n&&(fe(A._readableStreamController,P),fe(O._readableStreamController,P),(!p||!b)&&q(void 0))})}function ft(){Ye(n)&&(we(n),n=nt(e),de(n)),vt(n,{_chunkSteps:P=>{C(()=>{u=!1,c=!1;let F=P,re=P;if(!p&&!b)try{re=xo(P)}catch(ct){fe(A._readableStreamController,ct),fe(O._readableStreamController,ct),q(ce(e,ct));return}p||rr(A._readableStreamController,F),b||rr(O._readableStreamController,re),a=!1,u?Te():c&&V()})},_closeSteps:()=>{a=!1,p||Pt(A._readableStreamController),b||Pt(O._readableStreamController),A._readableStreamController._pendingPullIntos.length>0&&nr(A._readableStreamController,0),O._readableStreamController._pendingPullIntos.length>0&&nr(O._readableStreamController,0),(!p||!b)&&q(void 0)},_errorSteps:()=>{a=!1}})}function xe(T,P){Le(n)&&(we(n),n=Jo(e),de(n));let F=P?O:A,re=P?A:O;Xo(n,T,{_chunkSteps:dt=>{C(()=>{u=!1,c=!1;let ht=P?b:p;if(P?p:b)ht||or(F._readableStreamController,dt);else{let Wi;try{Wi=xo(dt)}catch(Mn){fe(F._readableStreamController,Mn),fe(re._readableStreamController,Mn),q(ce(e,Mn));return}ht||or(F._readableStreamController,dt),rr(re._readableStreamController,Wi)}a=!1,u?Te():c&&V()})},_closeSteps:dt=>{a=!1;let ht=P?b:p,Ar=P?p:b;ht||Pt(F._readableStreamController),Ar||Pt(re._readableStreamController),dt!==void 0&&(ht||or(F._readableStreamController,dt),!Ar&&re._readableStreamController._pendingPullIntos.length>0&&nr(re._readableStreamController,0)),(!ht||!Ar)&&q(void 0)},_errorSteps:()=>{a=!1}})}function Te(){if(a)return u=!0,_(void 0);a=!0;let T=wn(A._readableStreamController);return T===null?ft():xe(T._view,!1),_(void 0)}function V(){if(a)return c=!0,_(void 0);a=!0;let T=wn(O._readableStreamController);return T===null?ft():xe(T._view,!0),_(void 0)}function Q(T){if(p=!0,R=T,b){let P=Tt([R,E]),F=ce(e,P);q(F)}return $}function ie(T){if(b=!0,E=T,p){let P=Tt([R,E]),F=ce(e,P);q(F)}return $}function Ee(){}return A=wi(Ee,Te,Q),O=wi(Ee,V,ie),de(n),[A,O]}function mu(e,n){Re(e,n);let a=e,u=a==null?void 0:a.autoAllocateChunkSize,c=a==null?void 0:a.cancel,p=a==null?void 0:a.pull,b=a==null?void 0:a.start,R=a==null?void 0:a.type;return{autoAllocateChunkSize:u===void 0?void 0:Oo(u,`${n} has member 'autoAllocateChunkSize' that`),cancel:c===void 0?void 0:bu(c,a,`${n} has member 'cancel' that`),pull:p===void 0?void 0:yu(p,a,`${n} has member 'pull' that`),start:b===void 0?void 0:_u(b,a,`${n} has member 'start' that`),type:R===void 0?void 0:gu(R,`${n} has member 'type' that`)}}function bu(e,n,a){return le(e,a),u=>L(e,n,[u])}function yu(e,n,a){return le(e,a),u=>L(e,n,[u])}function _u(e,n,a){return le(e,a),u=>x(e,n,[u])}function gu(e,n){if(e=`${e}`,e!=="bytes")throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function Su(e,n){Re(e,n);let a=e==null?void 0:e.mode;return{mode:a===void 0?void 0:wu(a,`${n} has member 'mode' that`)}}function wu(e,n){if(e=`${e}`,e!=="byob")throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Ru(e,n){Re(e,n);let a=e==null?void 0:e.preventCancel;return{preventCancel:Boolean(a)}}function Si(e,n){Re(e,n);let a=e==null?void 0:e.preventAbort,u=e==null?void 0:e.preventCancel,c=e==null?void 0:e.preventClose,p=e==null?void 0:e.signal;return p!==void 0&&vu(p,`${n} has member 'signal' that`),{preventAbort:Boolean(a),preventCancel:Boolean(u),preventClose:Boolean(c),signal:p}}function vu(e,n){if(!Ws(e))throw new TypeError(`${n} is not an AbortSignal.`)}function Tu(e,n){Re(e,n);let a=e==null?void 0:e.readable;dn(a,"readable","ReadableWritablePair"),pn(a,`${n} has member 'readable' that`);let u=e==null?void 0:e.writable;return dn(u,"writable","ReadableWritablePair"),ei(u,`${n} has member 'writable' that`),{readable:a,writable:u}}class Fe{constructor(n={},a={}){n===void 0?n=null:Ao(n,"First parameter");let u=sr(a,"Second parameter"),c=mu(n,"First parameter");if(Fn(this),c.type==="bytes"){if(u.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let p=Ot(u,0);Ps(this,c,p)}else{let p=ar(u),b=Ot(u,1);cu(this,c,b,p)}}get locked(){if(!Me(this))throw Je("locked");return Ue(this)}cancel(n=void 0){return Me(this)?Ue(this)?w(new TypeError("Cannot cancel a stream that already has a reader")):ce(this,n):w(Je("cancel"))}getReader(n=void 0){if(!Me(this))throw Je("getReader");return Su(n,"First parameter").mode===void 0?nt(this):Jo(this)}pipeThrough(n,a={}){if(!Me(this))throw Je("pipeThrough");ve(n,1,"pipeThrough");let u=Tu(n,"First parameter"),c=Si(a,"Second parameter");if(Ue(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(at(u.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let p=yi(this,u.writable,c.preventClose,c.preventAbort,c.preventCancel,c.signal);return G(p),u.readable}pipeTo(n,a={}){if(!Me(this))return w(Je("pipeTo"));if(n===void 0)return w("Parameter 1 is required in 'pipeTo'.");if(!it(n))return w(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let u;try{u=Si(a,"Second parameter")}catch(c){return w(c)}return Ue(this)?w(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):at(n)?w(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):yi(this,n,u.preventClose,u.preventAbort,u.preventCancel,u.signal)}tee(){if(!Me(this))throw Je("tee");let n=du(this);return Tt(n)}values(n=void 0){if(!Me(this))throw Je("values");let a=Ru(n,"First parameter");return gs(this,a.preventCancel)}}Object.defineProperties(Fe.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Fe.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),typeof t.asyncIterator=="symbol"&&Object.defineProperty(Fe.prototype,t.asyncIterator,{value:Fe.prototype.values,writable:!0,configurable:!0});function In(e,n,a,u=1,c=()=>1){let p=Object.create(Fe.prototype);Fn(p);let b=Object.create(ut.prototype);return gi(p,b,e,n,a,u,c),p}function wi(e,n,a){let u=Object.create(Fe.prototype);Fn(u);let c=Object.create(ot.prototype);return Qo(u,c,e,n,a,0,void 0),u}function Fn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Me(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Fe}function Ue(e){return e._reader!==void 0}function ce(e,n){if(e._disturbed=!0,e._state==="closed")return _(void 0);if(e._state==="errored")return w(e._storedError);Wt(e);let a=e._reader;a!==void 0&&Ye(a)&&(a._readIntoRequests.forEach(c=>{c._closeSteps(void 0)}),a._readIntoRequests=new te);let u=e._readableStreamController[fn](n);return U(u,o)}function Wt(e){e._state="closed";let n=e._reader;n!==void 0&&(vo(n),Le(n)&&(n._readRequests.forEach(a=>{a._closeSteps()}),n._readRequests=new te))}function Ri(e,n){e._state="errored",e._storedError=n;let a=e._reader;a!==void 0&&(ln(a,n),Le(a)?(a._readRequests.forEach(u=>{u._errorSteps(n)}),a._readRequests=new te):(a._readIntoRequests.forEach(u=>{u._errorSteps(n)}),a._readIntoRequests=new te))}function Je(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function vi(e,n){Re(e,n);let a=e==null?void 0:e.highWaterMark;return dn(a,"highWaterMark","QueuingStrategyInit"),{highWaterMark:hn(a)}}let Ti=e=>e.byteLength;try{Object.defineProperty(Ti,"name",{value:"size",configurable:!0})}catch{}class gr{constructor(n){ve(n,1,"ByteLengthQueuingStrategy"),n=vi(n,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=n.highWaterMark}get highWaterMark(){if(!Pi(this))throw Ei("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Pi(this))throw Ei("size");return Ti}}Object.defineProperties(gr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(gr.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Ei(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Pi(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof gr}let Ai=()=>1;try{Object.defineProperty(Ai,"name",{value:"size",configurable:!0})}catch{}class Sr{constructor(n){ve(n,1,"CountQueuingStrategy"),n=vi(n,"First parameter"),this._countQueuingStrategyHighWaterMark=n.highWaterMark}get highWaterMark(){if(!Oi(this))throw Ci("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Oi(this))throw Ci("size");return Ai}}Object.defineProperties(Sr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Sr.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Ci(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Oi(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof Sr}function Eu(e,n){Re(e,n);let a=e==null?void 0:e.flush,u=e==null?void 0:e.readableType,c=e==null?void 0:e.start,p=e==null?void 0:e.transform,b=e==null?void 0:e.writableType;return{flush:a===void 0?void 0:Pu(a,e,`${n} has member 'flush' that`),readableType:u,start:c===void 0?void 0:Au(c,e,`${n} has member 'start' that`),transform:p===void 0?void 0:Cu(p,e,`${n} has member 'transform' that`),writableType:b}}function Pu(e,n,a){return le(e,a),u=>L(e,n,[u])}function Au(e,n,a){return le(e,a),u=>x(e,n,[u])}function Cu(e,n,a){return le(e,a),(u,c)=>L(e,n,[u,c])}class wr{constructor(n={},a={},u={}){n===void 0&&(n=null);let c=sr(a,"Second parameter"),p=sr(u,"Third parameter"),b=Eu(n,"First parameter");if(b.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(b.writableType!==void 0)throw new RangeError("Invalid writableType specified");let R=Ot(p,0),E=ar(p),A=Ot(c,1),O=ar(c),q,$=g(de=>{q=de});Ou(this,$,A,O,R,E),Bu(this,b),b.start!==void 0?q(b.start(this._transformStreamController)):q(void 0)}get readable(){if(!qi(this))throw Li("readable");return this._readable}get writable(){if(!qi(this))throw Li("writable");return this._writable}}Object.defineProperties(wr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(wr.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});function Ou(e,n,a,u,c,p){function b(){return n}function R($){return Lu(e,$)}function E($){return Wu(e,$)}function A(){return Iu(e)}e._writable=Ms(b,R,A,E,a,u);function O(){return Fu(e)}function q($){return vr(e,$),_(void 0)}e._readable=In(b,O,q,c,p),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Tr(e,!0),e._transformStreamController=void 0}function qi(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof wr}function Rr(e,n){Ie(e._readable._readableStreamController,n),vr(e,n)}function vr(e,n){Bi(e._transformStreamController),On(e._writable._writableStreamController,n),e._backpressure&&Tr(e,!1)}function Tr(e,n){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=g(a=>{e._backpressureChangePromise_resolve=a}),e._backpressure=n}class It{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Er(this))throw Pr("desiredSize");let n=this._controlledTransformStream._readable._readableStreamController;return Wn(n)}enqueue(n=void 0){if(!Er(this))throw Pr("enqueue");Di(this,n)}error(n=void 0){if(!Er(this))throw Pr("error");Du(this,n)}terminate(){if(!Er(this))throw Pr("terminate");ku(this)}}Object.defineProperties(It.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(It.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Er(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof It}function qu(e,n,a,u){n._controlledTransformStream=e,e._transformStreamController=n,n._transformAlgorithm=a,n._flushAlgorithm=u}function Bu(e,n){let a=Object.create(It.prototype),u=p=>{try{return Di(a,p),_(void 0)}catch(b){return w(b)}},c=()=>_(void 0);n.transform!==void 0&&(u=p=>n.transform(p,a)),n.flush!==void 0&&(c=()=>n.flush(a)),qu(e,a,u,c)}function Bi(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Di(e,n){let a=e._controlledTransformStream,u=a._readable._readableStreamController;if(!lt(u))throw new TypeError("Readable side is not in a state that permits enqueue");try{yr(u,n)}catch(p){throw vr(a,p),a._readable._storedError}fu(u)!==a._backpressure&&Tr(a,!0)}function Du(e,n){Rr(e._controlledTransformStream,n)}function ki(e,n){let a=e._transformAlgorithm(n);return U(a,void 0,u=>{throw Rr(e._controlledTransformStream,u),u})}function ku(e){let n=e._controlledTransformStream,a=n._readable._readableStreamController;Lt(a);let u=new TypeError("TransformStream terminated");vr(n,u)}function Lu(e,n){let a=e._transformStreamController;if(e._backpressure){let u=e._backpressureChangePromise;return U(u,()=>{let c=e._writable;if(c._state==="erroring")throw c._storedError;return ki(a,n)})}return ki(a,n)}function Wu(e,n){return Rr(e,n),_(void 0)}function Iu(e){let n=e._readable,a=e._transformStreamController,u=a._flushAlgorithm();return Bi(a),U(u,()=>{if(n._state==="errored")throw n._storedError;Lt(n._readableStreamController)},c=>{throw Rr(e,c),n._storedError})}function Fu(e){return Tr(e,!1),e._backpressureChangePromise}function Pr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Li(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}r.ByteLengthQueuingStrategy=gr,r.CountQueuingStrategy=Sr,r.ReadableByteStreamController=ot,r.ReadableStream=Fe,r.ReadableStreamBYOBReader=Ct,r.ReadableStreamBYOBRequest=Et,r.ReadableStreamDefaultController=ut,r.ReadableStreamDefaultReader=Rt,r.TransformStream=wr,r.TransformStreamDefaultController=It,r.WritableStream=qt,r.WritableStreamDefaultController=st,r.WritableStreamDefaultWriter=Bt,Object.defineProperty(r,"__esModule",{value:!0})})});var ka=k(()=>{if(!globalThis.ReadableStream)try{let r=require("node:process"),{emitWarning:t}=r;try{r.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),r.emitWarning=t}catch(o){throw r.emitWarning=t,o}}catch{Object.assign(globalThis,Da())}try{let{Blob:r}=require("buffer");r&&!r.prototype.stream&&(r.prototype.stream=function(o){let i=0,s=this;return new ReadableStream({type:"bytes",async pull(l){let m=await s.slice(i,Math.min(s.size,i+65536)).arrayBuffer();i+=m.byteLength,l.enqueue(new Uint8Array(m)),i===s.size&&l.close()}})})}catch{}});async function*lo(r,t=!0){for(let o of r)if("stream"in o)yield*o.stream();else if(ArrayBuffer.isView(o))if(t){let i=o.byteOffset,s=o.byteOffset+o.byteLength;for(;i!==s;){let l=Math.min(s-i,La),f=o.buffer.slice(i,i+l);i+=f.byteLength,yield new Uint8Array(f)}}else yield o;else{let i=0,s=o;for(;i!==s.size;){let f=await s.slice(i,Math.min(s.size,i+La)).arrayBuffer();i+=f.byteLength,yield new Uint8Array(f)}}}var hd,La,Wa,cc,Oe,xt=Ft(()=>{hd=Pe(ka(),1);La=65536;Wa=class fo{#e=[];#t="";#r=0;#n="transparent";constructor(t=[],o={}){if(typeof t!="object"||t===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof t[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof o!="object"&&typeof o!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");o===null&&(o={});let i=new TextEncoder;for(let l of t){let f;ArrayBuffer.isView(l)?f=new Uint8Array(l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength)):l instanceof ArrayBuffer?f=new Uint8Array(l.slice(0)):l instanceof fo?f=l:f=i.encode(`${l}`),this.#r+=ArrayBuffer.isView(f)?f.byteLength:f.size,this.#e.push(f)}this.#n=`${o.endings===void 0?"transparent":o.endings}`;let s=o.type===void 0?"":String(o.type);this.#t=/^[\x20-\x7E]*$/.test(s)?s:""}get size(){return this.#r}get type(){return this.#t}async text(){let t=new TextDecoder,o="";for await(let i of lo(this.#e,!1))o+=t.decode(i,{stream:!0});return o+=t.decode(),o}async arrayBuffer(){let t=new Uint8Array(this.size),o=0;for await(let i of lo(this.#e,!1))t.set(i,o),o+=i.length;return t.buffer}stream(){let t=lo(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(o){let i=await t.next();i.done?o.close():o.enqueue(i.value)},async cancel(){await t.return()}})}slice(t=0,o=this.size,i=""){let{size:s}=this,l=t<0?Math.max(s+t,0):Math.min(t,s),f=o<0?Math.max(s+o,0):Math.min(o,s),m=Math.max(f-l,0),h=this.#e,d=[],y=0;for(let _ of h){if(y>=m)break;let w=ArrayBuffer.isView(_)?_.byteLength:_.size;if(l&&w<=l)l-=w,f-=w;else{let S;ArrayBuffer.isView(_)?(S=_.subarray(l,Math.min(w,f)),y+=S.byteLength):(S=_.slice(l,Math.min(w,f)),y+=S.size),f-=w,d.push(S),l=0}}let g=new fo([],{type:String(i).toLowerCase()});return g.#r=m,g.#e=d,g}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](t){return t&&typeof t=="object"&&typeof t.constructor=="function"&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}};Object.defineProperties(Wa.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});cc=Wa,Oe=cc});var dc,hc,gt,co=Ft(()=>{xt();dc=class extends Oe{#e=0;#t="";constructor(t,o,i={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(t,i),i===null&&(i={});let s=i.lastModified===void 0?Date.now():Number(i.lastModified);Number.isNaN(s)||(this.#e=s),this.#t=String(o)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](t){return!!t&&t instanceof Oe&&/^(File)$/.test(t[Symbol.toStringTag])}},hc=dc,gt=hc});function Ma(r,t=Oe){var o=`${Ia()}${Ia()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],s=`--${o}\r
Content-Disposition: form-data; name="`;return r.forEach((l,f)=>typeof l=="string"?i.push(s+ho(f)+`"\r
\r
${l.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):i.push(s+ho(f)+`"; filename="${ho(l.name,1)}"\r
Content-Type: ${l.type||"application/octet-stream"}\r
\r
`,l,`\r
`)),i.push(`--${o}--`),new t(i,{type:"multipart/form-data; boundary="+o})}var $t,pc,mc,Ia,bc,Fa,ho,Ze,Xe,Kr=Ft(()=>{xt();co();({toStringTag:$t,iterator:pc,hasInstance:mc}=Symbol),Ia=Math.random,bc="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),Fa=(r,t,o)=>(r+="",/^(Blob|File)$/.test(t&&t[$t])?[(o=o!==void 0?o+"":t[$t]=="File"?t.name:"blob",r),t.name!==o||t[$t]=="blob"?new gt([t],o,t):t]:[r,t+""]),ho=(r,t)=>(t?r:r.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),Ze=(r,t,o)=>{if(t.length<o)throw new TypeError(`Failed to execute '${r}' on 'FormData': ${o} arguments required, but only ${t.length} present.`)},Xe=class{#e=[];constructor(...t){if(t.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[$t](){return"FormData"}[pc](){return this.entries()}static[mc](t){return t&&typeof t=="object"&&t[$t]==="FormData"&&!bc.some(o=>typeof t[o]!="function")}append(...t){Ze("append",arguments,2),this.#e.push(Fa(...t))}delete(t){Ze("delete",arguments,1),t+="",this.#e=this.#e.filter(([o])=>o!==t)}get(t){Ze("get",arguments,1),t+="";for(var o=this.#e,i=o.length,s=0;s<i;s++)if(o[s][0]===t)return o[s][1];return null}getAll(t,o){return Ze("getAll",arguments,1),o=[],t+="",this.#e.forEach(i=>i[0]===t&&o.push(i[1])),o}has(t){return Ze("has",arguments,1),t+="",this.#e.some(o=>o[0]===t)}forEach(t,o){Ze("forEach",arguments,1);for(var[i,s]of this)t.call(o,s,i,this)}set(...t){Ze("set",arguments,2);var o=[],i=!0;t=Fa(...t),this.#e.forEach(s=>{s[0]===t[0]?i&&(i=!o.push(t)):o.push(s)}),i&&o.push(t),this.#e=o}*entries(){yield*this.#e}*keys(){for(var[t]of this)yield t}*values(){for(var[,t]of this)yield t}}});var ja=k((Pd,za)=>{if(!globalThis.DOMException)try{let{MessageChannel:r}=require("worker_threads"),t=new r().port1,o=new ArrayBuffer;t.postMessage(o,[o,o])}catch(r){r.constructor.name==="DOMException"&&(globalThis.DOMException=r.constructor)}za.exports=globalThis.DOMException});var jt,Na,yc,Xr,mo=Ft(()=>{jt=require("node:fs"),Na=Pe(ja(),1);co();xt();({stat:yc}=jt.promises),Xr=class{#e;#t;constructor(t){this.#e=t.path,this.#t=t.start,this.size=t.size,this.lastModified=t.lastModified}slice(t,o){return new Xr({path:this.#e,lastModified:this.lastModified,size:o-t,start:this.#t+t})}async*stream(){let{mtimeMs:t}=await yc(this.#e);if(t>this.lastModified)throw new Na.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,jt.createReadStream)(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var Va={};ju(Va,{toFormData:()=>Tc});function vc(r){let t=r.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!t)return;let o=t[2]||t[3]||"",i=o.slice(o.lastIndexOf("\\")+1);return i=i.replace(/%22/g,'"'),i=i.replace(/&#(\d{4});/g,(s,l)=>String.fromCharCode(l)),i}async function Tc(r,t){if(!/multipart/i.test(t))throw new TypeError("Failed to fetch");let o=t.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!o)throw new TypeError("no or bad content-type header, no multipart boundary");let i=new bo(o[1]||o[2]),s,l,f,m,h,d,y=[],g=new Xe,_=D=>{f+=B.decode(D,{stream:!0})},w=D=>{y.push(D)},S=()=>{let D=new gt(y,d,{type:h});g.append(m,D)},I=()=>{g.append(m,f)},B=new TextDecoder("utf-8");B.decode(),i.onPartBegin=function(){i.onPartData=_,i.onPartEnd=I,s="",l="",f="",m="",h="",d=null,y.length=0},i.onHeaderField=function(D){s+=B.decode(D,{stream:!0})},i.onHeaderValue=function(D){l+=B.decode(D,{stream:!0})},i.onHeaderEnd=function(){if(l+=B.decode(),s=s.toLowerCase(),s==="content-disposition"){let D=l.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);D&&(m=D[2]||D[3]||""),d=vc(l),d&&(i.onPartData=w,i.onPartEnd=S)}else s==="content-type"&&(h=l);l="",s=""};for await(let D of r)i.write(D);return i.end(),g}var ge,M,Ha,Ne,en,tn,_c,Nt,gc,Sc,wc,Rc,et,bo,Ya=Ft(()=>{mo();Kr();ge=0,M={START_BOUNDARY:ge++,HEADER_FIELD_START:ge++,HEADER_FIELD:ge++,HEADER_VALUE_START:ge++,HEADER_VALUE:ge++,HEADER_VALUE_ALMOST_DONE:ge++,HEADERS_ALMOST_DONE:ge++,PART_DATA_START:ge++,PART_DATA:ge++,END:ge++},Ha=1,Ne={PART_BOUNDARY:Ha,LAST_BOUNDARY:Ha*=2},en=10,tn=13,_c=32,Nt=45,gc=58,Sc=97,wc=122,Rc=r=>r|32,et=()=>{},bo=class{constructor(t){this.index=0,this.flags=0,this.onHeaderEnd=et,this.onHeaderField=et,this.onHeadersEnd=et,this.onHeaderValue=et,this.onPartBegin=et,this.onPartData=et,this.onPartEnd=et,this.boundaryChars={},t=`\r
--`+t;let o=new Uint8Array(t.length);for(let i=0;i<t.length;i++)o[i]=t.charCodeAt(i),this.boundaryChars[o[i]]=!0;this.boundary=o,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=M.START_BOUNDARY}write(t){let o=0,i=t.length,s=this.index,{lookbehind:l,boundary:f,boundaryChars:m,index:h,state:d,flags:y}=this,g=this.boundary.length,_=g-1,w=t.length,S,I,B=C=>{this[C+"Mark"]=o},D=C=>{delete this[C+"Mark"]},U=(C,x,L,ke)=>{(x===void 0||x!==L)&&this[C](ke&&ke.subarray(x,L))},G=(C,x)=>{let L=C+"Mark";L in this&&(x?(U(C,this[L],o,t),delete this[L]):(U(C,this[L],t.length,t),this[L]=0))};for(o=0;o<i;o++)switch(S=t[o],d){case M.START_BOUNDARY:if(h===f.length-2){if(S===Nt)y|=Ne.LAST_BOUNDARY;else if(S!==tn)return;h++;break}else if(h-1===f.length-2){if(y&Ne.LAST_BOUNDARY&&S===Nt)d=M.END,y=0;else if(!(y&Ne.LAST_BOUNDARY)&&S===en)h=0,U("onPartBegin"),d=M.HEADER_FIELD_START;else return;break}S!==f[h+2]&&(h=-2),S===f[h+2]&&h++;break;case M.HEADER_FIELD_START:d=M.HEADER_FIELD,B("onHeaderField"),h=0;case M.HEADER_FIELD:if(S===tn){D("onHeaderField"),d=M.HEADERS_ALMOST_DONE;break}if(h++,S===Nt)break;if(S===gc){if(h===1)return;G("onHeaderField",!0),d=M.HEADER_VALUE_START;break}if(I=Rc(S),I<Sc||I>wc)return;break;case M.HEADER_VALUE_START:if(S===_c)break;B("onHeaderValue"),d=M.HEADER_VALUE;case M.HEADER_VALUE:S===tn&&(G("onHeaderValue",!0),U("onHeaderEnd"),d=M.HEADER_VALUE_ALMOST_DONE);break;case M.HEADER_VALUE_ALMOST_DONE:if(S!==en)return;d=M.HEADER_FIELD_START;break;case M.HEADERS_ALMOST_DONE:if(S!==en)return;U("onHeadersEnd"),d=M.PART_DATA_START;break;case M.PART_DATA_START:d=M.PART_DATA,B("onPartData");case M.PART_DATA:if(s=h,h===0){for(o+=_;o<w&&!(t[o]in m);)o+=g;o-=_,S=t[o]}if(h<f.length)f[h]===S?(h===0&&G("onPartData",!0),h++):h=0;else if(h===f.length)h++,S===tn?y|=Ne.PART_BOUNDARY:S===Nt?y|=Ne.LAST_BOUNDARY:h=0;else if(h-1===f.length)if(y&Ne.PART_BOUNDARY){if(h=0,S===en){y&=~Ne.PART_BOUNDARY,U("onPartEnd"),U("onPartBegin"),d=M.HEADER_FIELD_START;break}}else y&Ne.LAST_BOUNDARY&&S===Nt?(U("onPartEnd"),d=M.END,y=0):h=0;if(h>0)l[h-1]=S;else if(s>0){let C=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);U("onPartData",0,s,C),s=0,B("onPartData"),o--}break;case M.END:break;default:throw new Error(`Unexpected state entered: ${d}`)}G("onHeaderField"),G("onHeaderValue"),G("onPartData"),this.index=h,this.state=d,this.flags=y}end(){if(this.state===M.HEADER_FIELD_START&&this.index===0||this.state===M.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==M.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var Qt=Pe(ro());var us=Pe(require("node:http"),1),ls=Pe(require("node:https"),1),tt=Pe(require("node:zlib"),1),oe=Pe(require("node:stream"),1),Yt=require("node:buffer");function fc(r){if(!/^data:/i.test(r))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');r=r.replace(/\r?\n/g,"");let t=r.indexOf(",");if(t===-1||t<=4)throw new TypeError("malformed data: URI");let o=r.substring(5,t).split(";"),i="",s=!1,l=o[0]||"text/plain",f=l;for(let y=1;y<o.length;y++)o[y]==="base64"?s=!0:(f+=`;${o[y]}`,o[y].indexOf("charset=")===0&&(i=o[y].substring(8)));!o[0]&&!i.length&&(f+=";charset=US-ASCII",i="US-ASCII");let m=s?"base64":"ascii",h=unescape(r.substring(t+1)),d=Buffer.from(h,m);return d.type=l,d.typeFull=f,d.charset=i,d}var qa=fc;var ue=Pe(require("node:stream"),1),Be=require("node:util"),ne=require("node:buffer");xt();Kr();var qe=class extends Error{constructor(t,o){super(t),Error.captureStackTrace(this,this.constructor),this.type=o}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var Z=class extends qe{constructor(t,o,i){super(t,o),i&&(this.code=this.errno=i.code,this.erroredSysCall=i.syscall)}};var Zr=Symbol.toStringTag,po=r=>typeof r=="object"&&typeof r.append=="function"&&typeof r.delete=="function"&&typeof r.get=="function"&&typeof r.getAll=="function"&&typeof r.has=="function"&&typeof r.set=="function"&&typeof r.sort=="function"&&r[Zr]==="URLSearchParams",zt=r=>r&&typeof r=="object"&&typeof r.arrayBuffer=="function"&&typeof r.type=="string"&&typeof r.stream=="function"&&typeof r.constructor=="function"&&/^(Blob|File)$/.test(r[Zr]),Ua=r=>typeof r=="object"&&(r[Zr]==="AbortSignal"||r[Zr]==="EventTarget"),xa=(r,t)=>{let o=new URL(t).hostname,i=new URL(r).hostname;return o===i||o.endsWith(`.${i}`)},$a=(r,t)=>{let o=new URL(t).protocol,i=new URL(r).protocol;return o===i};var Ec=(0,Be.promisify)(ue.default.pipeline),X=Symbol("Body internals"),Se=class{constructor(t,{size:o=0}={}){let i=null;t===null?t=null:po(t)?t=ne.Buffer.from(t.toString()):zt(t)||ne.Buffer.isBuffer(t)||(Be.types.isAnyArrayBuffer(t)?t=ne.Buffer.from(t):ArrayBuffer.isView(t)?t=ne.Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof ue.default||(t instanceof Xe?(t=Ma(t),i=t.type.split("=")[1]):t=ne.Buffer.from(String(t))));let s=t;ne.Buffer.isBuffer(t)?s=ue.default.Readable.from(t):zt(t)&&(s=ue.default.Readable.from(t.stream())),this[X]={body:t,stream:s,boundary:i,disturbed:!1,error:null},this.size=o,t instanceof ue.default&&t.on("error",l=>{let f=l instanceof qe?l:new Z(`Invalid response body while trying to fetch ${this.url}: ${l.message}`,"system",l);this[X].error=f})}get body(){return this[X].stream}get bodyUsed(){return this[X].disturbed}async arrayBuffer(){let{buffer:t,byteOffset:o,byteLength:i}=await yo(this);return t.slice(o,o+i)}async formData(){let t=this.headers.get("content-type");if(t.startsWith("application/x-www-form-urlencoded")){let i=new Xe,s=new URLSearchParams(await this.text());for(let[l,f]of s)i.append(l,f);return i}let{toFormData:o}=await Promise.resolve().then(()=>(Ya(),Va));return o(this.body,t)}async blob(){let t=this.headers&&this.headers.get("content-type")||this[X].body&&this[X].body.type||"",o=await this.arrayBuffer();return new Oe([o],{type:t})}async json(){let t=await this.text();return JSON.parse(t)}async text(){let t=await yo(this);return new TextDecoder().decode(t)}buffer(){return yo(this)}};Se.prototype.buffer=(0,Be.deprecate)(Se.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Se.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Be.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function yo(r){if(r[X].disturbed)throw new TypeError(`body used already for: ${r.url}`);if(r[X].disturbed=!0,r[X].error)throw r[X].error;let{body:t}=r;if(t===null)return ne.Buffer.alloc(0);if(!(t instanceof ue.default))return ne.Buffer.alloc(0);let o=[],i=0;try{for await(let s of t){if(r.size>0&&i+s.length>r.size){let l=new Z(`content size at ${r.url} over limit: ${r.size}`,"max-size");throw t.destroy(l),l}i+=s.length,o.push(s)}}catch(s){throw s instanceof qe?s:new Z(`Invalid response body while trying to fetch ${r.url}: ${s.message}`,"system",s)}if(t.readableEnded===!0||t._readableState.ended===!0)try{return o.every(s=>typeof s=="string")?ne.Buffer.from(o.join("")):ne.Buffer.concat(o,i)}catch(s){throw new Z(`Could not create Buffer from response body for ${r.url}: ${s.message}`,"system",s)}else throw new Z(`Premature close of server response while trying to fetch ${r.url}`)}var St=(r,t)=>{let o,i,{body:s}=r[X];if(r.bodyUsed)throw new Error("cannot clone body after it is used");return s instanceof ue.default&&typeof s.getBoundary!="function"&&(o=new ue.PassThrough({highWaterMark:t}),i=new ue.PassThrough({highWaterMark:t}),s.pipe(o),s.pipe(i),r[X].stream=o,s=i),s},Pc=(0,Be.deprecate)(r=>r.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),rn=(r,t)=>r===null?null:typeof r=="string"?"text/plain;charset=UTF-8":po(r)?"application/x-www-form-urlencoded;charset=UTF-8":zt(r)?r.type||null:ne.Buffer.isBuffer(r)||Be.types.isAnyArrayBuffer(r)||ArrayBuffer.isView(r)?null:r instanceof Xe?`multipart/form-data; boundary=${t[X].boundary}`:r&&typeof r.getBoundary=="function"?`multipart/form-data;boundary=${Pc(r)}`:r instanceof ue.default?null:"text/plain;charset=UTF-8",Ga=r=>{let{body:t}=r[X];return t===null?0:zt(t)?t.size:ne.Buffer.isBuffer(t)?t.length:t&&typeof t.getLengthSync=="function"&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null},Qa=async(r,{body:t})=>{t===null?r.end():await Ec(t,r)};var _o=require("node:util"),Ht=Pe(require("node:http"),1),nn=typeof Ht.default.validateHeaderName=="function"?Ht.default.validateHeaderName:r=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(r)){let t=new TypeError(`Header name must be a valid HTTP token [${r}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},go=typeof Ht.default.validateHeaderValue=="function"?Ht.default.validateHeaderValue:(r,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){let o=new TypeError(`Invalid character in header content ["${r}"]`);throw Object.defineProperty(o,"code",{value:"ERR_INVALID_CHAR"}),o}},ee=class extends URLSearchParams{constructor(t){let o=[];if(t instanceof ee){let i=t.raw();for(let[s,l]of Object.entries(i))o.push(...l.map(f=>[s,f]))}else if(t!=null)if(typeof t=="object"&&!_o.types.isBoxedPrimitive(t)){let i=t[Symbol.iterator];if(i==null)o.push(...Object.entries(t));else{if(typeof i!="function")throw new TypeError("Header pairs must be iterable");o=[...t].map(s=>{if(typeof s!="object"||_o.types.isBoxedPrimitive(s))throw new TypeError("Each header pair must be an iterable object");return[...s]}).map(s=>{if(s.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...s]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return o=o.length>0?o.map(([i,s])=>(nn(i),go(i,String(s)),[String(i).toLowerCase(),String(s)])):void 0,super(o),new Proxy(this,{get(i,s,l){switch(s){case"append":case"set":return(f,m)=>(nn(f),go(f,String(m)),URLSearchParams.prototype[s].call(i,String(f).toLowerCase(),String(m)));case"delete":case"has":case"getAll":return f=>(nn(f),URLSearchParams.prototype[s].call(i,String(f).toLowerCase()));case"keys":return()=>(i.sort(),new Set(URLSearchParams.prototype.keys.call(i)).keys());default:return Reflect.get(i,s,l)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(t){let o=this.getAll(t);if(o.length===0)return null;let i=o.join(", ");return/^content-encoding$/i.test(t)&&(i=i.toLowerCase()),i}forEach(t,o=void 0){for(let i of this.keys())Reflect.apply(t,o,[this.get(i),i,this])}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((t,o)=>(t[o]=this.getAll(o),t),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((t,o)=>{let i=this.getAll(o);return o==="host"?t[o]=i[0]:t[o]=i.length>1?i:i[0],t},{})}};Object.defineProperties(ee.prototype,["get","entries","forEach","values"].reduce((r,t)=>(r[t]={enumerable:!0},r),{}));function Ja(r=[]){return new ee(r.reduce((t,o,i,s)=>(i%2===0&&t.push(s.slice(i,i+2)),t),[]).filter(([t,o])=>{try{return nn(t),go(t,String(o)),!0}catch{return!1}}))}var Ac=new Set([301,302,303,307,308]),on=r=>Ac.has(r);var me=Symbol("Response internals"),H=class extends Se{constructor(t=null,o={}){super(t,o);let i=o.status!=null?o.status:200,s=new ee(o.headers);if(t!==null&&!s.has("Content-Type")){let l=rn(t,this);l&&s.append("Content-Type",l)}this[me]={type:"default",url:o.url,status:i,statusText:o.statusText||"",headers:s,counter:o.counter,highWaterMark:o.highWaterMark}}get type(){return this[me].type}get url(){return this[me].url||""}get status(){return this[me].status}get ok(){return this[me].status>=200&&this[me].status<300}get redirected(){return this[me].counter>0}get statusText(){return this[me].statusText}get headers(){return this[me].headers}get highWaterMark(){return this[me].highWaterMark}clone(){return new H(St(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(t,o=302){if(!on(o))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new H(null,{headers:{location:new URL(t).toString()},status:o})}static error(){let t=new H(null,{status:0,statusText:""});return t[me].type="error",t}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(H.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var is=require("node:url"),as=require("node:util");var Ka=r=>{if(r.search)return r.search;let t=r.href.length-1,o=r.hash||(r.href[t]==="#"?"#":"");return r.href[t-o.length]==="?"?"?":""};var Xa=require("node:net");function Za(r,t=!1){return r==null||(r=new URL(r),/^(about|blob|data):$/.test(r.protocol))?"no-referrer":(r.username="",r.password="",r.hash="",t&&(r.pathname="",r.search=""),r)}var es=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),ts="strict-origin-when-cross-origin";function rs(r){if(!es.has(r))throw new TypeError(`Invalid referrerPolicy: ${r}`);return r}function Cc(r){if(/^(http|ws)s:$/.test(r.protocol))return!0;let t=r.host.replace(/(^\[)|(]$)/g,""),o=(0,Xa.isIP)(t);return o===4&&/^127\./.test(t)||o===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t)?!0:r.host==="localhost"||r.host.endsWith(".localhost")?!1:r.protocol==="file:"}function wt(r){return/^about:(blank|srcdoc)$/.test(r)||r.protocol==="data:"||/^(blob|filesystem):$/.test(r.protocol)?!0:Cc(r)}function ns(r,{referrerURLCallback:t,referrerOriginCallback:o}={}){if(r.referrer==="no-referrer"||r.referrerPolicy==="")return null;let i=r.referrerPolicy;if(r.referrer==="about:client")return"no-referrer";let s=r.referrer,l=Za(s),f=Za(s,!0);l.toString().length>4096&&(l=f),t&&(l=t(l)),o&&(f=o(f));let m=new URL(r.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return f;case"unsafe-url":return l;case"strict-origin":return wt(l)&&!wt(m)?"no-referrer":f.toString();case"strict-origin-when-cross-origin":return l.origin===m.origin?l:wt(l)&&!wt(m)?"no-referrer":f;case"same-origin":return l.origin===m.origin?l:"no-referrer";case"origin-when-cross-origin":return l.origin===m.origin?l:f;case"no-referrer-when-downgrade":return wt(l)&&!wt(m)?"no-referrer":l;default:throw new TypeError(`Invalid referrerPolicy: ${i}`)}}function os(r){let t=(r.get("referrer-policy")||"").split(/[,\s]+/),o="";for(let i of t)i&&es.has(i)&&(o=i);return o}var j=Symbol("Request internals"),Vt=r=>typeof r=="object"&&typeof r[j]=="object",Oc=(0,as.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),De=class extends Se{constructor(t,o={}){let i;if(Vt(t)?i=new URL(t.url):(i=new URL(t),t={}),i.username!==""||i.password!=="")throw new TypeError(`${i} is an url with embedded credentials.`);let s=o.method||t.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(s)&&(s=s.toUpperCase()),!Vt(o)&&"data"in o&&Oc(),(o.body!=null||Vt(t)&&t.body!==null)&&(s==="GET"||s==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let l=o.body?o.body:Vt(t)&&t.body!==null?St(t):null;super(l,{size:o.size||t.size||0});let f=new ee(o.headers||t.headers||{});if(l!==null&&!f.has("Content-Type")){let d=rn(l,this);d&&f.set("Content-Type",d)}let m=Vt(t)?t.signal:null;if("signal"in o&&(m=o.signal),m!=null&&!Ua(m))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let h=o.referrer==null?t.referrer:o.referrer;if(h==="")h="no-referrer";else if(h){let d=new URL(h);h=/^about:(\/\/)?client$/.test(d)?"client":d}else h=void 0;this[j]={method:s,redirect:o.redirect||t.redirect||"follow",headers:f,parsedURL:i,signal:m,referrer:h},this.follow=o.follow===void 0?t.follow===void 0?20:t.follow:o.follow,this.compress=o.compress===void 0?t.compress===void 0?!0:t.compress:o.compress,this.counter=o.counter||t.counter||0,this.agent=o.agent||t.agent,this.highWaterMark=o.highWaterMark||t.highWaterMark||16384,this.insecureHTTPParser=o.insecureHTTPParser||t.insecureHTTPParser||!1,this.referrerPolicy=o.referrerPolicy||t.referrerPolicy||""}get method(){return this[j].method}get url(){return(0,is.format)(this[j].parsedURL)}get headers(){return this[j].headers}get redirect(){return this[j].redirect}get signal(){return this[j].signal}get referrer(){if(this[j].referrer==="no-referrer")return"";if(this[j].referrer==="client")return"about:client";if(this[j].referrer)return this[j].referrer.toString()}get referrerPolicy(){return this[j].referrerPolicy}set referrerPolicy(t){this[j].referrerPolicy=rs(t)}clone(){return new De(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(De.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var ss=r=>{let{parsedURL:t}=r[j],o=new ee(r[j].headers);o.has("Accept")||o.set("Accept","*/*");let i=null;if(r.body===null&&/^(post|put)$/i.test(r.method)&&(i="0"),r.body!==null){let m=Ga(r);typeof m=="number"&&!Number.isNaN(m)&&(i=String(m))}i&&o.set("Content-Length",i),r.referrerPolicy===""&&(r.referrerPolicy=ts),r.referrer&&r.referrer!=="no-referrer"?r[j].referrer=ns(r):r[j].referrer="no-referrer",r[j].referrer instanceof URL&&o.set("Referer",r.referrer),o.has("User-Agent")||o.set("User-Agent","node-fetch"),r.compress&&!o.has("Accept-Encoding")&&o.set("Accept-Encoding","gzip, deflate, br");let{agent:s}=r;typeof s=="function"&&(s=s(t)),!o.has("Connection")&&!s&&o.set("Connection","close");let l=Ka(t),f={path:t.pathname+l,method:r.method,headers:o[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:r.insecureHTTPParser,agent:s};return{parsedURL:t,options:f}};var an=class extends qe{constructor(t,o="aborted"){super(t,o)}};Kr();mo();var qc=new Set(["data:","http:","https:"]);async function Gt(r,t){return new Promise((o,i)=>{let s=new De(r,t),{parsedURL:l,options:f}=ss(s);if(!qc.has(l.protocol))throw new TypeError(`node-fetch cannot load ${r}. URL scheme "${l.protocol.replace(/:$/,"")}" is not supported.`);if(l.protocol==="data:"){let S=qa(s.url),I=new H(S,{headers:{"Content-Type":S.typeFull}});o(I);return}let m=(l.protocol==="https:"?ls.default:us.default).request,{signal:h}=s,d=null,y=()=>{let S=new an("The operation was aborted.");i(S),s.body&&s.body instanceof oe.default.Readable&&s.body.destroy(S),!(!d||!d.body)&&d.body.emit("error",S)};if(h&&h.aborted){y();return}let g=()=>{y(),w()},_=m(l.toString(),f);h&&h.addEventListener("abort",g);let w=()=>{_.abort(),h&&h.removeEventListener("abort",g)};_.on("error",S=>{i(new Z(`request to ${s.url} failed, reason: ${S.message}`,"system",S)),w()}),Bc(_,S=>{d&&d.body&&d.body.destroy(S)}),process.version<"v14"&&_.on("socket",S=>{let I;S.prependListener("end",()=>{I=S._eventsCount}),S.prependListener("close",B=>{if(d&&I<S._eventsCount&&!B){let D=new Error("Premature close");D.code="ERR_STREAM_PREMATURE_CLOSE",d.body.emit("error",D)}})}),_.on("response",S=>{_.setTimeout(0);let I=Ja(S.rawHeaders);if(on(S.statusCode)){let C=I.get("Location"),x=null;try{x=C===null?null:new URL(C,s.url)}catch{if(s.redirect!=="manual"){i(new Z(`uri requested responds with an invalid redirect URL: ${C}`,"invalid-redirect")),w();return}}switch(s.redirect){case"error":i(new Z(`uri requested responds with a redirect, redirect mode is set to error: ${s.url}`,"no-redirect")),w();return;case"manual":break;case"follow":{if(x===null)break;if(s.counter>=s.follow){i(new Z(`maximum redirect reached at: ${s.url}`,"max-redirect")),w();return}let L={headers:new ee(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:St(s),signal:s.signal,size:s.size,referrer:s.referrer,referrerPolicy:s.referrerPolicy};if(!xa(s.url,x)||!$a(s.url,x))for(let te of["authorization","www-authenticate","cookie","cookie2"])L.headers.delete(te);if(S.statusCode!==303&&s.body&&t.body instanceof oe.default.Readable){i(new Z("Cannot follow redirect with body being a readable stream","unsupported-redirect")),w();return}(S.statusCode===303||(S.statusCode===301||S.statusCode===302)&&s.method==="POST")&&(L.method="GET",L.body=void 0,L.headers.delete("content-length"));let ke=os(I);ke&&(L.referrerPolicy=ke),o(Gt(new De(x,L))),w();return}default:return i(new TypeError(`Redirect option '${s.redirect}' is not a valid value of RequestRedirect`))}}h&&S.once("end",()=>{h.removeEventListener("abort",g)});let B=(0,oe.pipeline)(S,new oe.PassThrough,C=>{C&&i(C)});process.version<"v12.10"&&S.on("aborted",g);let D={url:s.url,status:S.statusCode,statusText:S.statusMessage,headers:I,size:s.size,counter:s.counter,highWaterMark:s.highWaterMark},U=I.get("Content-Encoding");if(!s.compress||s.method==="HEAD"||U===null||S.statusCode===204||S.statusCode===304){d=new H(B,D),o(d);return}let G={flush:tt.default.Z_SYNC_FLUSH,finishFlush:tt.default.Z_SYNC_FLUSH};if(U==="gzip"||U==="x-gzip"){B=(0,oe.pipeline)(B,tt.default.createGunzip(G),C=>{C&&i(C)}),d=new H(B,D),o(d);return}if(U==="deflate"||U==="x-deflate"){let C=(0,oe.pipeline)(S,new oe.PassThrough,x=>{x&&i(x)});C.once("data",x=>{(x[0]&15)===8?B=(0,oe.pipeline)(B,tt.default.createInflate(),L=>{L&&i(L)}):B=(0,oe.pipeline)(B,tt.default.createInflateRaw(),L=>{L&&i(L)}),d=new H(B,D),o(d)}),C.once("end",()=>{d||(d=new H(B,D),o(d))});return}if(U==="br"){B=(0,oe.pipeline)(B,tt.default.createBrotliDecompress(),C=>{C&&i(C)}),d=new H(B,D),o(d);return}d=new H(B,D),o(d)}),Qa(_,s).catch(i)})}function Bc(r,t){let o=Yt.Buffer.from(`0\r
\r
`),i=!1,s=!1,l;r.on("response",f=>{let{headers:m}=f;i=m["transfer-encoding"]==="chunked"&&!m["content-length"]}),r.on("socket",f=>{let m=()=>{if(i&&!s){let d=new Error("Premature close");d.code="ERR_STREAM_PREMATURE_CLOSE",t(d)}},h=d=>{s=Yt.Buffer.compare(d.slice(-5),o)===0,!s&&l&&(s=Yt.Buffer.compare(l.slice(-3),o.slice(0,3))===0&&Yt.Buffer.compare(d.slice(-2),o.slice(3))===0),l=d};f.prependListener("close",m),f.on("data",h),r.on("close",()=>{f.removeListener("close",m),f.removeListener("data",h)})})}var So=`Juno/${process.env.GITHUB_HEAD_REF} - Preview`,fs=`https://${process.env.SHOPIFY_SHOP}/admin/api/2023-01`,cs={"User-Agent":"Shopify Theme Action","Content-Type":"application/json","X-Shopify-Access-Token":process.env.SHOPIFY_PASSWORD};async function Dc(){ds("Retrieve preview theme id");let{themes:r}=await Gt(`${fs}/themes.json`,{headers:cs}).then(o=>o.json()),t=r.find(o=>o.name.includes(So));if(!t){Qt.default.notice(`Preview theme [${So}] not found. Skipping.`);return}ds("Deleting preview theme"),await Gt(`${fs}/themes/${t.id}.json`,{method:"DELETE",headers:cs}),Qt.default.info(`Preview theme [${So}] has been deleted`)}function ds(r){Qt.default.info(`
==============================
${r}
==============================
`)}try{Dc()}catch(r){Qt.default.setFailed(r)}
/*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
/*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
